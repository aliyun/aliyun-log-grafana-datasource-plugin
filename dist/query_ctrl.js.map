{"version":3,"sources":["../src/query_ctrl.js"],"names":["QueryCtrl","GenericDatasourceQueryCtrl","$scope","$injector","target","ycol","type","query","datasource","metricFindQuery","rawQuery","panelCtrl","refresh","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,qB,kBAAAA,S;;;;;;;;;;;;;;;;;;;;;kDAEIC,0B;;;AACT;AACA,oDAAYC,MAAZ,EAAoBC,SAApB,EAA+B;AAAA;;AAAA,wKACrBD,MADqB,EACbC,SADa;;AAE3B,0BAAKC,MAAL,CAAYA,MAAZ,GAAqB,MAAKA,MAAL,CAAYC,IAAjC;AACA,0BAAKD,MAAL,CAAYE,IAAZ,GAAmB,MAAKF,MAAL,CAAYE,IAAZ,IAAoB,WAAvC;AAH2B;AAI9B;;;;+CACUC,K,EAAO;AACd,+BAAO,KAAKC,UAAL,CAAgBC,eAAhB,CAAgCF,SAAS,EAAzC,CAAP;AACH;;;uDACkB;AACf,6BAAKH,MAAL,CAAYM,QAAZ,GAAuB,CAAC,KAAKN,MAAL,CAAYM,QAApC;AACH;;;uDACkB;AACf,6BAAKC,SAAL,CAAeC,OAAf,GADe,CACW;AAC7B;;;;cAf2CZ,S;;;;AAiBhDC,uCAA2BY,WAA3B,GAAyC,4BAAzC;AACA","file":"query_ctrl.js","sourcesContent":["import { QueryCtrl } from 'app/plugins/sdk';\nimport './css/query-editor.css!';\nexport class GenericDatasourceQueryCtrl extends QueryCtrl {\n    /** @ngInject */\n    constructor($scope, $injector) {\n        super($scope, $injector);\n        this.target.target = this.target.ycol;\n        this.target.type = this.target.type || 'timeserie';\n    }\n    getOptions(query) {\n        return this.datasource.metricFindQuery(query || '');\n    }\n    toggleEditorMode() {\n        this.target.rawQuery = !this.target.rawQuery;\n    }\n    onChangeInternal() {\n        this.panelCtrl.refresh(); // Asks the panel to refresh data.\n    }\n}\nGenericDatasourceQueryCtrl.templateUrl = 'partials/query.editor.html';\n//# sourceMappingURL=query_ctrl.js.map"]}