/*! For license information please see module.js.LICENSE.txt */
define(["@emotion/css","@grafana/data","@grafana/runtime","@grafana/ui","lodash","react"],((e,t,n,r,o,i)=>(()=>{"use strict";var a=[e=>{e.exports=i},e=>{e.exports=r},t=>{t.exports=e},e=>{e.exports=o},e=>{e.exports=t},e=>{e.exports=n},e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],l=0;l<e.length;l++){var c=e[l],u=r.base?c[0]+r.base:c[0],s=i[u]||0,p="".concat(u," ").concat(s);i[u]=s+1;var f=n(p),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(d);else{var y=o(d,r);r.byIndex=l,t.splice(l,0,{identifier:p,updater:y,references:1})}a.push(p)}return a}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var l=n(i[a]);t[l].references--}for(var c=r(e,o),u=0;u<i.length;u++){var s=n(i[u]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}i=c}}},e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(13),o=n.n(r),i=n(14),a=n.n(i)()(o());a.push([e.id,".description-container p{margin:0}.description-container p+p{margin-top:16px}.description-container .description-text{font-weight:400;font-family:Inter,Helvetica,Arial,sans-serif}.description-container a{color:#6e9fff;text-decoration:underline}.description-container a::hover{text-decoration:none}.config-section .header{display:flex;justify-content:space-between;align-items:center}.config-section .title{margin:0}.config-section .subtitle{margin:0;font-weight:400}","",{version:3,sources:["webpack://./components/style.css"],names:[],mappings:"AAEE,yBACE,QAAA,CAGF,2BACE,eAAA,CAGF,yCACE,eAAA,CACA,4CAAA,CAGF,yBACE,aAAA,CACA,yBAAA,CAEF,gCACE,oBAAA,CAKF,wBACE,YAAA,CACA,6BAAA,CACA,kBAAA,CAEF,uBACE,QAAA,CAGF,0BACE,QAAA,CACA,eAAA",sourcesContent:["\n.description-container {\n  p{\n    margin: 0;\n  }\n\n  p+p{\n    margin-top: 16px;\n  }\n\n  .description-text {\n    font-weight: 400;\n    font-family: Inter, Helvetica, Arial, sans-serif;\n  }\n\n  a {\n    color: #6E9FFF;\n    text-decoration: underline;\n  }\n  a::hover {\n    text-decoration: none;\n  }\n}\n\n.config-section {\n  .header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .title {\n    margin: 0,\n  }\n\n  .subtitle {\n    margin: 0;\n    font-weight: 400\n  }\n}\n\n\n\n"],sourceRoot:""}]);const l=a},e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(a[c]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&a[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),t.push(s))}},t}},,(e,t,n)=>{e.exports=n(17)},(e,t)=>{const n={TimePicker:{openButton:"data-testid TimePicker Open Button",fromField:"Time Range from field",toField:"Time Range to field",applyTimeRange:"data-testid TimePicker submit button",calendar:{label:"Time Range calendar",openButton:"Open time range calendar",closeButton:"Close time range Calendar"},absoluteTimeRangeTitle:"data-testid-absolute-time-range-narrow"},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:"Test Data Query scenario select container",scenarioSelect:"Test Data Query scenario select",max:"TestData max",min:"TestData min",noise:"TestData noise",seriesCount:"TestData series count",spread:"TestData spread",startValue:"TestData start value",drop:"TestData drop values"}},DataSourceHttpSettings:{urlInput:"Datasource HTTP settings url"},Jaeger:{traceIDInput:"Trace ID"},Prometheus:{configPage:{exemplarsAddButton:"Add exemplar config button",internalLinkSwitch:"Internal link switch"},exemplarMarker:"Exemplar marker"}},Menu:{MenuComponent:e=>`${e} menu`,MenuGroup:e=>`${e} menu group`,MenuItem:e=>`${e} menu item`,SubMenu:{container:"SubMenu container",icon:"SubMenu icon"}},Panels:{Panel:{title:e=>`data-testid Panel header ${e}`,headerItems:e=>`Panel header item ${e}`,containerByTitle:e=>`${e} panel`,headerCornerInfo:e=>`Panel header ${e}`},Visualization:{Graph:{VisualizationTab:{legendSection:"Legend section"},Legend:{legendItemAlias:e=>`gpl alias ${e}`,showLegendSwitch:"gpl show legend"},xAxis:{labels:()=>"div.flot-x-axis > div.flot-tick-label"}},BarGauge:{value:"Bar gauge value",valueV2:"data-testid Bar gauge value"},PieChart:{svgSlice:"Pie Chart Slice"},Text:{container:()=>".markdown-html"},Table:{header:"table header",footer:"table-footer"}}},VizLegend:{seriesName:e=>`VizLegend series ${e}`},Drawer:{General:{title:e=>`Drawer title ${e}`,expand:"Drawer expand",contract:"Drawer contract",close:"Drawer close",rcContentWrapper:()=>".drawer-content-wrapper"}},PanelEditor:{General:{content:"Panel editor content"},OptionsPane:{content:"Panel editor option pane content",select:"Panel editor option pane select",fieldLabel:e=>`${e} field property editor`},DataPane:{content:"Panel editor data pane content"},applyButton:"Apply changes and go back to dashboard",toggleVizPicker:"toggle-viz-picker",toggleVizOptions:"toggle-viz-options",toggleTableView:"toggle-table-view"},PanelInspector:{Data:{content:"Panel inspector Data content"},Stats:{content:"Panel inspector Stats content"},Json:{content:"Panel inspector Json content"},Query:{content:"Panel inspector Query content",refreshButton:"Panel inspector Query refresh button",jsonObjectKeys:()=>".json-formatter-key"}},Tab:{title:e=>`Tab ${e}`,active:()=>'[class*="-activeTabStyle"]'},RefreshPicker:{runButton:"RefreshPicker run button",intervalButton:"RefreshPicker interval button",runButtonV2:"data-testid RefreshPicker run button",intervalButtonV2:"data-testid RefreshPicker interval button"},QueryTab:{content:"Query editor tab content",queryInspectorButton:"Query inspector button",queryHistoryButton:"Rich history button",addQuery:"Query editor add query button"},QueryHistory:{queryText:"Query text"},QueryEditorRows:{rows:"Query editor row"},QueryEditorRow:{actionButton:e=>`${e} query operation action`,title:e=>`Query editor row title ${e}`,container:e=>`Query editor row ${e}`},AlertTab:{content:"Alert editor tab content"},Alert:{alert:e=>`Alert ${e}`,alertV2:e=>`data-testid Alert ${e}`},TransformTab:{content:"Transform editor tab content",newTransform:e=>`New transform ${e}`,transformationEditor:e=>`Transformation editor ${e}`,transformationEditorDebugger:e=>`Transformation editor debugger ${e}`},Transforms:{card:e=>`New transform ${e}`,Reduce:{modeLabel:"Transform mode label",calculationsLabel:"Transform calculations label"},searchInput:"search transformations"},PageToolbar:{container:()=>".page-toolbar",item:e=>`${e}`},QueryEditorToolbarItem:{button:e=>`QueryEditor toolbar item button ${e}`},BackButton:{backArrow:"Go Back"},OptionsGroup:{group:e=>e?`Options group ${e}`:"Options group",toggle:e=>e?`Options group ${e} toggle`:"Options group toggle"},PluginVisualization:{item:e=>`Plugin visualization item ${e}`,current:()=>'[class*="-currentVisualizationItem"]'},Select:{option:"Select option",input:()=>'input[id*="time-options-input"]',singleValue:()=>'div[class*="-singleValue"]'},FieldConfigEditor:{content:"Field config editor content"},OverridesConfigEditor:{content:"Field overrides editor content"},FolderPicker:{container:"Folder picker select container",containerV2:"data-testid Folder picker select container",input:"Select a folder"},ReadonlyFolderPicker:{container:"data-testid Readonly folder picker select container"},DataSourcePicker:{container:"Data source picker select container",input:()=>'input[id="data-source-picker"]',inputV2:"Select a data source"},TimeZonePicker:{container:"Time zone picker select container",containerV2:"data-testid Time zone picker select container"},WeekStartPicker:{container:"Choose starting day of the week",containerV2:"data-testid Choose starting day of the week",placeholder:"Choose starting day of the week"},TraceViewer:{spanBar:"data-testid SpanBar--wrapper"},QueryField:{container:"Query field"},QueryBuilder:{queryPatterns:"Query patterns",labelSelect:"Select label",valueSelect:"Select value",matchOperatorSelect:"Select match operator"},ValuePicker:{button:e=>`Value picker button ${e}`,select:e=>`Value picker select ${e}`},Search:{section:"Search section",sectionV2:"data-testid Search section",items:"Search items",itemsV2:"data-testid Search items",cards:"data-testid Search cards",collapseFolder:e=>`data-testid Collapse folder ${e}`,expandFolder:e=>`data-testid Expand folder ${e}`,dashboardItem:e=>`${n.Search.dashboardItems} ${e}`,dashboardCard:e=>`data-testid Search card ${e}`,dashboardItems:"data-testid Dashboard search item"},DashboardLinks:{container:"data-testid Dashboard link container",dropDown:"data-testid Dashboard link dropdown",link:"data-testid Dashboard link"},LoadingIndicator:{icon:"Loading indicator"},CallToActionCard:{button:e=>`Call to action button ${e}`,buttonV2:e=>`data-testid Call to action button ${e}`},DataLinksContextMenu:{singleLink:"Data link"},CodeEditor:{container:"Code editor container"},DashboardImportPage:{textarea:"data-testid-import-dashboard-textarea",submit:"data-testid-load-dashboard"},ImportDashboardForm:{name:"data-testid-import-dashboard-title",submit:"data-testid-import-dashboard-submit"},PanelAlertTabContent:{content:"Unified alert editor tab content"},VisualizationPreview:{card:e=>`data-testid suggestion-${e}`},ColorSwatch:{name:"data-testid-colorswatch"},DashboardRow:{title:e=>`data-testid dashboard-row-title-${e}`},UserProfile:{profileSaveButton:"data-testid-user-profile-save",preferencesSaveButton:"data-testid-shared-prefs-save",orgsTable:"data-testid-user-orgs-table",sessionsTable:"data-testid-user-sessions-table"},FileUpload:{inputField:"data-testid-file-upload-input-field",fileNameSpan:"data-testid-file-upload-file-name"}},r={Login:{url:"/login",username:"Username input field",password:"Password input field",submit:"Login button",skip:"Skip change password button"},Home:{url:"/"},DataSource:{name:"Data source settings page name input field",delete:"Data source settings page Delete button",readOnly:"Data source settings page read only message",saveAndTest:"Data source settings page Save and Test button",alert:"Data source settings page Alert"},DataSources:{url:"/datasources",dataSources:e=>`Data source list item ${e}`},AddDataSource:{url:"/datasources/new",dataSourcePlugins:e=>`Data source plugin item ${e}`,dataSourcePluginsV2:e=>`Add data source ${e}`},ConfirmModal:{delete:"Confirm Modal Danger Button"},AddDashboard:{url:"/dashboard/new",addNewPanel:"Add new panel",addNewRow:"Add new row",addNewPanelLibrary:"Add new panel from panel library"},Dashboard:{url:e=>`/d/${e}`,DashNav:{nav:"Dashboard navigation",navV2:"data-testid Dashboard navigation",publicDashboardTag:"data-testid public dashboard tag"},SubMenu:{submenu:"Dashboard submenu",submenuItem:"data-testid template variable",submenuItemLabels:e=>`data-testid Dashboard template variables submenu Label ${e}`,submenuItemValueDropDownValueLinkTexts:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`,submenuItemValueDropDownDropDown:"Variable options",submenuItemValueDropDownOptionTexts:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`},Settings:{General:{deleteDashBoard:"Dashboard settings page delete dashboard button",sectionItems:e=>`Dashboard settings section item ${e}`,saveDashBoard:"Dashboard settings aside actions Save button",saveAsDashBoard:"Dashboard settings aside actions Save As button",timezone:"Time zone picker select container",title:"Dashboard settings page title"},Annotations:{List:{addAnnotationCTA:n.CallToActionCard.button("Add annotation query"),addAnnotationCTAV2:n.CallToActionCard.buttonV2("Add annotation query")},Settings:{name:"Annotations settings name input"}},Variables:{List:{addVariableCTA:n.CallToActionCard.button("Add variable"),addVariableCTAV2:n.CallToActionCard.buttonV2("Add variable"),newButton:"Variable editor New variable button",table:"Variable editor Table",tableRowNameFields:e=>`Variable editor Table Name field ${e}`,tableRowDefinitionFields:e=>`Variable editor Table Definition field ${e}`,tableRowArrowUpButtons:e=>`Variable editor Table ArrowUp button ${e}`,tableRowArrowDownButtons:e=>`Variable editor Table ArrowDown button ${e}`,tableRowDuplicateButtons:e=>`Variable editor Table Duplicate button ${e}`,tableRowRemoveButtons:e=>`Variable editor Table Remove button ${e}`},Edit:{General:{headerLink:"Variable editor Header link",modeLabelNew:"Variable editor Header mode New",modeLabelEdit:"Variable editor Header mode Edit",generalNameInput:"Variable editor Form Name field",generalNameInputV2:"data-testid Variable editor Form Name field",generalTypeSelect:"Variable editor Form Type select",generalTypeSelectV2:"data-testid Variable editor Form Type select",generalLabelInput:"Variable editor Form Label field",generalLabelInputV2:"data-testid Variable editor Form Label field",generalHideSelect:"Variable editor Form Hide select",generalHideSelectV2:"data-testid Variable editor Form Hide select",selectionOptionsMultiSwitch:"Variable editor Form Multi switch",selectionOptionsIncludeAllSwitch:"Variable editor Form IncludeAll switch",selectionOptionsCustomAllInput:"Variable editor Form IncludeAll field",selectionOptionsCustomAllInputV2:"data-testid Variable editor Form IncludeAll field",previewOfValuesOption:"Variable editor Preview of Values option",submitButton:"Variable editor Submit button"},QueryVariable:{queryOptionsDataSourceSelect:n.DataSourcePicker.container,queryOptionsRefreshSelect:"Variable editor Form Query Refresh select",queryOptionsRefreshSelectV2:"data-testid Variable editor Form Query Refresh select",queryOptionsRegExInput:"Variable editor Form Query RegEx field",queryOptionsRegExInputV2:"data-testid Variable editor Form Query RegEx field",queryOptionsSortSelect:"Variable editor Form Query Sort select",queryOptionsSortSelectV2:"data-testid Variable editor Form Query Sort select",queryOptionsQueryInput:"Variable editor Form Default Variable Query Editor textarea",valueGroupsTagsEnabledSwitch:"Variable editor Form Query UseTags switch",valueGroupsTagsTagsQueryInput:"Variable editor Form Query TagsQuery field",valueGroupsTagsTagsValuesQueryInput:"Variable editor Form Query TagsValuesQuery field"},ConstantVariable:{constantOptionsQueryInput:"Variable editor Form Constant Query field",constantOptionsQueryInputV2:"data-testid Variable editor Form Constant Query field"},DatasourceVariable:{datasourceSelect:"data-testid datasource variable datasource type"},TextBoxVariable:{textBoxOptionsQueryInput:"Variable editor Form TextBox Query field",textBoxOptionsQueryInputV2:"data-testid Variable editor Form TextBox Query field"},CustomVariable:{customValueInput:"data-testid custom-variable-input"},IntervalVariable:{intervalsValueInput:"data-testid interval variable intervals input"}}}}},Dashboards:{url:"/dashboards",dashboards:e=>`Dashboard search item ${e}`},SaveDashboardAsModal:{newName:"Save dashboard title field",save:"Save dashboard button"},SaveDashboardModal:{save:"Dashboard settings Save Dashboard Modal Save button",saveVariables:"Dashboard settings Save Dashboard Modal Save variables checkbox",saveTimerange:"Dashboard settings Save Dashboard Modal Save timerange checkbox"},SharePanelModal:{linkToRenderedImage:"Link to rendered image"},ShareDashboardModal:{shareButton:"Share dashboard or panel",PublicDashboard:{Tab:"Tab Public Dashboard",WillBePublicCheckbox:"data-testid public dashboard will be public checkbox",LimitedDSCheckbox:"data-testid public dashboard limited datasources checkbox",CostIncreaseCheckbox:"data-testid public dashboard cost may increase checkbox",EnableSwitch:"data-testid public dashboard on off switch",SaveConfigButton:"data-testid public dashboard save config button",CopyUrlInput:"data-testid public dashboard copy url input",CopyUrlButton:"data-testid public dashboard copy url button",TemplateVariablesWarningAlert:"data-testid public dashboard disabled template variables alert"}},Explore:{url:"/explore",General:{container:"data-testid Explore",graph:"Explore Graph",table:"Explore Table",scrollView:"data-testid explorer scroll view"}},SoloPanel:{url:e=>`/d-solo/${e}`},PluginsList:{page:"Plugins list page",list:"Plugins list",listItem:"Plugins list item",signatureErrorNotice:"Unsigned plugins notice"},PluginPage:{page:"Plugin page",signatureInfo:"Plugin signature info",disabledInfo:"Plugin disabled info"},PlaylistForm:{name:"Playlist name",interval:"Playlist interval",itemRow:"Playlist item row",itemIdType:"Playlist item dashboard by ID type",itemTagType:"Playlist item dashboard by Tag type",itemMoveUp:"Move playlist item order up",itemMoveDown:"Move playlist item order down",itemDelete:"Delete playlist item"}},o={pages:r,components:n};t.selectors=o}],l={};function c(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={id:e,exports:{}};return a[e](n,n.exports,c),n.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nc=void 0;var u={};return(()=>{c.r(u),c.d(u,{plugin:()=>Yi});var e=c(4),t={type:"all",query:"* | select count(*) as c, __time__-__time__%60 as t group by t",xcol:"t",ycol:"",logsPerPage:100,currentPage:1,totalLogs:100,powerSql:!1},n={type:"all",query:"",xcol:"",ycol:"",logsPerPage:100,currentPage:1,totalLogs:100,powerSql:!1},r=c(5),o=c(3),i=c.n(o),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},a(e,t)};function l(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e){return"function"==typeof e}var p=!1,f={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e);p=e},get useDeprecatedSynchronousErrorHandling(){return p}};function d(e){setTimeout((function(){throw e}),0)}var y={closed:!0,next:function(e){},error:function(e){if(f.useDeprecatedSynchronousErrorHandling)throw e;d(e)},complete:function(){}},b=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();var h=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),m=h,g=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n,r=this,o=r._parentOrParents,i=r._ctorUnsubscribe,a=r._unsubscribe,l=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,o instanceof e)o.remove(this);else if(null!==o)for(var c=0;c<o.length;++c){o[c].remove(this)}if(s(a)){i&&(this._unsubscribe=void 0);try{a.call(this)}catch(e){t=e instanceof m?v(e.errors):[e]}}if(b(l)){c=-1;for(var u=l.length;++c<u;){var p=l[c];if(null!==(n=p)&&"object"==typeof n)try{p.unsubscribe()}catch(e){t=t||[],e instanceof m?t=t.concat(v(e.errors)):t.push(e)}}}if(t)throw new m(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function v(e){return e.reduce((function(e,t){return e.concat(t instanceof m?t.errors:t)}),[])}var w=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),O=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=y;break;case 1:if(!n){i.destination=y;break}if("object"==typeof n){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new S(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new S(i,n,r,o)}return i}return l(t,e),t.prototype[w]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(g),S=function(e){function t(t,n,r,o){var i,a=e.call(this)||this;a._parentSubscriber=t;var l=a;return s(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==y&&(s((l=Object.create(n)).unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(a))),a._context=l,a._next=i,a._error=r,a._complete=o,a}return l(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;f.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=f.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):d(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;d(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};f.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),f.useDeprecatedSynchronousErrorHandling)throw e;d(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!f.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return f.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(d(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(O);var x=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new E(e,this.project,this.thisArg))},e}(),E=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return l(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(O);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(){F=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),l=new j(o||[]);return r(a,"_invoke",{value:O(e,n,l)}),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function d(){}function y(){}var b={};c(b,i,(function(){return this}));var h=Object.getPrototypeOf,m=h&&h(h(P([])));m&&m!==t&&n.call(m,i)&&(b=m);var g=y.prototype=f.prototype=Object.create(b);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,l){var c=s(e[r],e,i);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==_(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var l=S(a,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=y,r(g,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:d,configurable:!0}),d.displayName=c(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function R(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===_(i)?i:String(i)),r)}var o,i}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(l,e);var n,o,i,a=N(l);function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this,e)}return n=l,o=[{key:"query",value:function(e){return e.targets.forEach((function(t){var n;if(t.query=U(t,e),/__custom__@/.test(null!==(n=null==t?void 0:t.logstore)&&void 0!==n?n:"")){var o,i=(0,r.getTemplateSrv)().getVariables().find((function(e){var n;return e.name===(null==t||null===(n=t.logstore)||void 0===n?void 0:n.split("@")[1])})),a=null==i||null===(o=i.current)||void 0===o?void 0:o.value;t.logstore=a}})),"trace"===e.targets[0].xcol?k(L(l.prototype),"query",this).call(this,e).pipe((t=W,function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new x(t,n))})):k(L(l.prototype),"query",this).call(this,e);var t,n}},{key:"metricFindQuery",value:function(e,n){var o=I({},t,"string"==typeof e?{query:e}:e),i=o.type,a=o.logstore,l=o.queryType,c=o.legendFormat,u=o.step,s={from:n.range.from.valueOf().toString(),to:n.range.to.valueOf().toString(),queries:[{datasource:{type:this.type,uid:this.uid},datasourceId:this.id,query:U(o.query||"",n),type:i,logstore:a,queryType:l,legendFormat:c,step:u}]};return new Promise(function(){var e,t=(e=F().mark((function e(t){var n,o,i,a;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,(0,r.getBackendSrv)().post("/api/ds/query",s);case 4:i=e.sent,n=null!==(o=i.results.A.frames)&&void 0!==o?o:[],e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:a=K(n),t(a);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){R(i,r,o,a,l,"next",e)}function l(e){R(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}())}}],o&&A(n.prototype,o),i&&A(n,i),Object.defineProperty(n,"prototype",{writable:!1}),l}(r.DataSourceWithBackend);function B(e,t){return{key:e,value:t}}function M(e,t){var n,r,o=JSON.parse(null===(n=e.get("resource"))||void 0===n?void 0:n.get(t)),i=Array.from(Object.entries(o),(function(e){var t=P(e,2);return B(t[0],t[1])}));return i.push(B("host",null===(r=e.get("host"))||void 0===r?void 0:r.get(t))),i}function z(e,t){var n,r,o,i=JSON.parse(null===(n=e.get("attribute"))||void 0===n?void 0:n.get(t)),a=Array.from(Object.entries(i),(function(e){var t=P(e,2);return B(t[0],t[1])}));return a.push(B("statusCode",null===(r=e.get("statusCode"))||void 0===r?void 0:r.get(t))),a.push(B("statusMessage",null===(o=e.get("statusMessage"))||void 0===o?void 0:o.get(t))),a}function q(e,t){var n,r,o=[],i=j(JSON.parse(null===(n=e.get("logs"))||void 0===n?void 0:n.get(t)));try{for(i.s();!(r=i.n()).done;){var a=r.value,l=new Map(Object.entries(a)),c=Array.from(Object.entries(a),(function(e){var t=P(e,2);return B(t[0],t[1])})),u=l.get("time");void 0!==u&&o.push({timestamp:Number(u)/1e6,fields:c})}}catch(e){i.e(e)}finally{i.f()}return o}function Q(t){var n,r=function(e){for(var t=[],n=e.fields,r=new Map(n.map((function(e){return[e.name,e.values]}))),o=0;o<e.length;o++){var i,a,l,c,u,s,p,f,d={traceID:null===(i=r.get("traceID"))||void 0===i?void 0:i.get(o),spanID:null===(a=r.get("spanID"))||void 0===a?void 0:a.get(o),parentSpanID:null===(l=r.get("parentSpanID"))||void 0===l?void 0:l.get(o),operationName:null===(c=r.get("operationName"))||void 0===c?void 0:c.get(o),serviceName:null===(u=r.get("serviceName"))||void 0===u?void 0:u.get(o),serviceTags:M(r,o),startTime:null===(s=r.get("startTime"))||void 0===s?void 0:s.get(o),duration:null===(p=r.get("duration"))||void 0===p?void 0:p.get(o),tags:z(r,o),errorIconColor:"ERROR"===(null===(f=r.get("statusCode"))||void 0===f?void 0:f.get(o))?"#f00":"",logs:q(r,o)};t.push(d)}return t}(t),o=new e.MutableDataFrame({fields:[{name:"traceID",type:e.FieldType.string},{name:"spanID",type:e.FieldType.string},{name:"parentSpanID",type:e.FieldType.string},{name:"operationName",type:e.FieldType.string},{name:"serviceName",type:e.FieldType.string},{name:"serviceTags",type:e.FieldType.other},{name:"startTime",type:e.FieldType.number},{name:"duration",type:e.FieldType.number},{name:"logs",type:e.FieldType.other},{name:"tags",type:e.FieldType.other},{name:"errorIconColor",type:e.FieldType.string}],meta:{preferredVisualisationType:"trace"}}),i=j(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;o.add(a)}}catch(e){i.e(e)}finally{i.f()}return o}function W(e){return{data:[Q(e.data[0])]}}function K(e){if(!e||!Array.isArray(e)||0===(null==e?void 0:e.length))return[];var t,n=[],r=j(e);try{for(r.s();!(t=r.n()).done;){var o,a,l=t.value;if((null===(o=l.data)||void 0===o||null===(a=o.values)||void 0===a?void 0:a.length)>0){var c=l.data.values;if(2===c.length)for(var u=0;u<c[0].length;u++)n.push({text:c[0][u],value:c[1][u]});else for(var s=function(e){var t=c[0][e];if(t&&t.text&&t.value)n.push({text:t.text,value:t.value});else if(i().isObject(t))n.push({text:H(t),value:e});else{var r,o,a=c.reduce((function(t,n){return t+(n[e]+" ")}),"");n.push({text:null==a||null===(r=a.trim)||void 0===r?void 0:r.call(a),value:null==a||null===(o=a.trim)||void 0===o?void 0:o.call(a)})}},p=0;p<c[0].length;p++)s(p)}}}catch(e){r.e(e)}finally{r.f()}return n}function H(e){try{return JSON.stringify(e)}catch(t){return e}}function $(e,t){if("object"===_(e)&&(t.multi||t.includeAll)){var n=[];return e.forEach((function(e){t.name===t.label||t.description&&t.description.indexOf("field_search")>=0?n.push('"'+t.name+'":"'+e+'"'):n.push(e)})),n.join(" OR ")}return i().isArray(e)?e.join(" OR "):e}function U(e,t){if("string"==typeof e||!e.hide){var n;n="string"==typeof e?e:e.query;var o=(0,r.getTemplateSrv)().replace(n,t.scopedVars,$),a=o.match(/\$([0-9]+)([dmhs])/g);return i()(a).forEach((function(e){var t=e,n=1;-1!==(e=e.replace("$","")).indexOf("s")?n=1:-1!==e.indexOf("m")?n=60:-1!==e.indexOf("h")?n=3600:-1!==e.indexOf("d")&&(n=86400),e=e.replace(/[smhd]/g,"");var r=parseInt(e,10);r*=n,o=o.replace(t,String(r))})),-1!==o.indexOf("#time_end")&&(o=o.replace("#time_end",String(t.range.to.unix()/1e3))),-1!==o.indexOf("#time_begin")&&(o=o.replace("#time_begin",String(t.range.from.unix()/1e3))),o}}var G=c(0),J=c.n(G),Y=c(1),Z=c(2);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,le(r.key),r)}}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oe(e)}(this,n)}}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function ae(e,t,n){return(t=le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===X(t)?t:String(t)}var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(i,e);var t,n,r,o=re(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ae(oe(e=o.call.apply(o,[this].concat(n))),"handleInputChange",(function(t){return function(n){var r=e.props,o=r.header;(0,r.onChange)(ee({},o,ae({},t,n.currentTarget.value)))}})),ae(oe(e),"handleReset",(function(){var t=e.props,n=t.header;(0,t.onChange)(ee({},n,{configured:!1,value:""}))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.header,n=e.onBlur,r=e.onDelete,o=e.readOnly,i=e.theme.spacing,a={inlineFieldNoMarginRight:(0,Z.css)({marginRight:0}),inlineFieldWithSecret:(0,Z.css)({'[class$="layoutChildrenWrapper"]:first-child':{flexGrow:1}})},l={container:(0,Z.css)({alignItems:"center"}),headerNameField:(0,Z.css)({width:"40%",marginRight:0,paddingRight:i(1)}),headerValueField:(0,Z.css)({width:"45%",marginRight:0}),removeHeaderBtn:(0,Z.css)({margin:"0 0 3px 10px"})};return J().createElement(Y.InlineFieldRow,{className:l.container},J().createElement(Y.InlineField,{label:"Header",labelWidth:9,grow:!0,className:l.headerNameField,htmlFor:"custom-header-".concat(t.id,"-name-input"),disabled:o},J().createElement(Y.Input,{id:"custom-header-".concat(t.id,"-name-input"),placeholder:"X-Custom-Header",value:t.name,onChange:this.handleInputChange("name"),onBlur:n})),J().createElement(Y.InlineField,{label:"Value",labelWidth:9,grow:!0,className:(0,Z.cx)(a.inlineFieldWithSecret,l.headerValueField),htmlFor:"custom-header-".concat(t.id,"-value-input"),disabled:o},J().createElement(Y.Input,{id:"custom-header-".concat(t.id,"-value-input"),placeholder:"Header value",value:t.value,onChange:this.handleInputChange("value"),onReset:o?function(){}:this.handleReset,onBlur:n})),J().createElement(Y.IconButton,{name:"trash-alt",tooltip:"Remove header",tooltipPlacement:"top",className:l.removeHeaderBtn,onClick:r,type:"button",disabled:o}))}}])&&te(t.prototype,n),r&&te(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(G.Component);const ue=(0,Y.withTheme2)(ce);var se,pe;function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function de(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ve(r.key),r)}}function be(e,t){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},be(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){var o=ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return me(e)}(this,n)}}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}function ve(e){var t=function(e,t){if("object"!==fe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fe(t)?t:String(t)}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&be(e,t)}(i,e);var t,n,r,o=he(i);function i(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e=o.call.apply(o,[this].concat(l)),t=me(e),r=function(){var t=e.props,n=t.theme,r=t.size,o=t.fullWidth,i=function(e,t){switch(e){case"sm":return{padding:1,fontSize:t.typography.size.sm,height:t.components.height.sm};case"lg":return{padding:3,fontSize:t.typography.size.lg,height:t.components.height.lg};default:return{padding:2,fontSize:t.typography.size.md,height:t.components.height.md}}}(r||"md",n),a=i.fontSize,l=i.height,c=i.padding,u=n.colors.text.secondary,s=n.colors.text.primary,p=l*n.spacing.gridSize-4-2;return{radio:(0,Z.css)(se||(se=de(["\n        position: absolute;\n        opacity: 0;\n        z-index: -1000;\n\n        &:checked + label {\n          color: ",";\n          font-weight: ",";\n          background: ",";\n          z-index: 3;\n        }\n\n        &:focus + label,\n        &:focus-visible + label {\n          ",";\n        }\n\n        &:focus:not(:focus-visible) + label {\n          ","\n        }\n\n        &:disabled + label {\n          color: ",";\n          cursor: not-allowed;\n        }\n      "])),n.colors.text.primary,n.typography.fontWeightMedium,n.colors.action.selected,Se(n),{outline:"none",boxShadow:"none"},n.colors.text.disabled),radioLabel:(0,Z.css)(pe||(pe=de(["\n        display: inline-block;\n        position: relative;\n        font-size: ",";\n        height: ","px;\n        // Deduct border from line-height for perfect vertical centering on windows and linux\n        line-height: ","px;\n        color: ",";\n        padding: ",";\n        border-radius: ",";\n        background: ",";\n        cursor: pointer;\n        z-index: 1;\n        flex: ",";\n        text-align: center;\n        user-select: none;\n        white-space: nowrap;\n\n        &:hover {\n          color: ",";\n        }\n      "])),a,p,p,u,n.spacing(0,c),n.shape.borderRadius(),n.colors.background.primary,o?"1 0 0":"none",s)}},(n=ve(n="getStyles"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.active,r=e.disabled,o=e.onChange,i=e.onClick,a=e.id,l=e.name,c=e.description,u=e.inputRef,s=e["aria-label"],p=this.getStyles();return J().createElement(J().Fragment,null,J().createElement("input",{type:"radio",className:p.radio,onChange:o,onClick:i,disabled:r,id:a,checked:n,name:l,"aria-label":s,ref:u}),J().createElement("label",{className:p.radioLabel,htmlFor:a,title:c},t))}}])&&ye(t.prototype,n),r&&ye(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(G.Component),Oe=(0,Y.withTheme2)(we);function Se(e){return{outline:"2px dotted transparent",outlineOffset:"2px",boxShadow:"0 0 0 2px ".concat(e.colors.background.canvas,", 0 0 0px 4px ").concat(e.colors.primary.main),transitionTimingFunction:"cubic-bezier(0.19, 1, 0.22, 1)",transitionDuration:"0.2s",transitionProperty:"outline, outline-offset, box-shadow"}}var xe,Ee,_e=["name","size","iconType","tooltip","tooltipPlacement","ariaLabel","className","variant","theme"];function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ce(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ne(r.key),r)}}function Re(e,t){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Re(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ae(e)}(this,n)}}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}function De(e,t,n){return(t=Ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e){var t=function(e,t){if("object"!==je(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===je(t)?t:String(t)}var Le=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Re(e,t)}(a,t);var n,r,o,i=Ie(a);function a(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return De(Ae(t=i.call.apply(i,[this].concat(r))),"getStyles",(function(){var n=t.props,r=n.theme,o=n.size,i=n.variant,a=function(e){switch(e){case"xs":return 12;case"sm":return 14;case"md":return 16;case"lg":return 18;case"xl":return 24;case"xxl":return 36;case"xxxl":return 48}}(o||"md"),l=Math.max(a/3,8),c=r.colors.text.primary;return"primary"===i?c=r.colors.primary.text:"destructive"===i&&(c=r.colors.error.text),{button:(0,Z.css)(xe||(xe=Ce(["\n        width: ","px;\n        height: ","px;\n        background: transparent;\n        border: none;\n        color: ",";\n        padding: 0;\n        margin: 0;\n        outline: none;\n        box-shadow: none;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        border-radius: ",";\n        z-index: 0;\n        margin-right: ",";\n\n        &[disabled],\n        &:disabled {\n          cursor: not-allowed;\n          color: ",";\n          opacity: 0.65;\n          box-shadow: none;\n        }\n\n        &:before {\n          content: '';\n          display: block;\n          opacity: 1;\n          position: absolute;\n          transition-duration: 0.2s;\n          transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n          z-index: -1;\n          bottom: -","px;\n          left: -","px;\n          right: -","px;\n          top: -","px;\n          background: none;\n          border-radius: 50%;\n          box-sizing: border-box;\n          transform: scale(0);\n          transition-property: transform, opacity;\n        }\n\n        &:focus,\n        &:focus-visible {\n          ","\n        }\n\n        &:focus:not(:focus-visible) {\n          ","\n        }\n\n        &:hover {\n          color: ",";\n\n          &:before {\n            background-color: ",";\n            border: none;\n            box-shadow: none;\n            opacity: 1;\n            transform: scale(0.8);\n          }\n        }\n      "])),a,a,c,r.shape.borderRadius(),r.spacing(.5),r.colors.action.disabledText,l,l,l,l,Se(r),{outline:"none",boxShadow:"none"},c,"secondary"===i?r.colors.action.hover:e.colorManipulator.alpha(c,.12)),icon:(0,Z.css)(Ee||(Ee=Ce(["\n        vertical-align: baseline;\n        display: flex;\n      "])))}})),t}return n=a,(r=[{key:"render",value:function(){var e=this.props,t=e.name,n=e.size,r=void 0===n?"md":n,o=e.iconType,i=e.tooltip,a=e.tooltipPlacement,l=e.ariaLabel,c=e.className,u=(e.variant,e.theme,Te(e,_e)),s=this.getStyles(),p="string"==typeof i?i:"",f=J().createElement("button",Pe({ref:this.props.innerRef,"aria-label":l||p},u,{className:(0,Z.cx)(s.button,c)}),J().createElement(Y.Icon,{name:t,size:r,className:s.icon,type:o}));return i?J().createElement(Y.Tooltip,{content:i,placement:a},f):f}}])&&Fe(n.prototype,r),o&&Fe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),a}(G.Component);De(Le,"defaultProps",{size:"md",variant:"secondary"});var Ve=(0,Y.withTheme2)(Le);var Be=c(6),Me=c.n(Be),ze=c(7),qe=c.n(ze),Qe=c(8),We=c.n(Qe),Ke=c(9),He=c.n(Ke),$e=c(10),Ue=c.n($e),Ge=c(11),Je=c.n(Ge),Ye=c(12),Ze={};Ze.styleTagTransform=Je(),Ze.setAttributes=He(),Ze.insert=We().bind(null,"head"),Ze.domAPI=qe(),Ze.insertStyleElement=Ue();Me()(Ye.Z,Ze);Ye.Z&&Ye.Z.locals&&Ye.Z.locals;function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,it(r.key),r)}}function tt(e,t){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tt(e,t)}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ot(e);if(t){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rt(e)}(this,n)}}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ot(e)}function it(e){var t=function(e,t){if("object"!==Xe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xe(t)?t:String(t)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}(i,e);var t,n,r,o=nt(i);function i(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e=o.call.apply(o,[this].concat(l)),t=rt(e),r={isOpen:!0},(n=it(n="state"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.title,o=t.description,i=t.isCollapsible,a=void 0!==i&&i,l=t.kind,c=void 0===l?"section":l,u=this.state.isOpen,s=u?"angle-up":"angle-down",p="sub-section"===c,f="".concat(u?"Collapse":"Expand"," section ").concat(r);return J().createElement("div",{className:"config-section"},J().createElement("div",{className:"header"},"section"===c?J().createElement("h3",{className:"title"},r):J().createElement("h6",{className:"subtitle"},r),a&&J().createElement(Ve,{name:s,onClick:function(){return e.setState({isOpen:!u})},type:"button",size:"xl","aria-label":f})),o&&J().createElement("p",{className:"description-text",style:{marginTop:p?"2px":"4px",fontFamily:"Inter, Helvetica, Arial, sans-serif",fontSize:"0.8rem"}},o),u&&J().createElement("div",{style:{marginTop:"16px"}},n))}}])&&et(t.prototype,n),r&&et(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(G.PureComponent);function lt(e){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(e)}function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(this,arguments)}function ut(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mt(r.key),r)}}function ft(e,t){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ft(e,t)}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bt(e);if(t){var o=bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yt(e)}(this,n)}}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bt(e)}function ht(e,t,n){return(t=mt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e){var t=function(e,t){if("object"!==lt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===lt(t)?t:String(t)}var gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}(i,e);var t,n,r,o=dt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ht(yt(t=o.call(this,e)),"onHeaderAdd",(function(e){e.preventDefault(),t.setState((function(e){return{headers:[].concat(ut(e.headers),[{id:wt(),name:"",value:"",configured:!1}])}}),t.triggerChange)})),ht(yt(t),"onHeaderChange",(function(e,n){t.setState((function(t){return{headers:t.headers.map((function(t){return t.id===e?ct({},n):t}))}}),t.triggerChange)})),ht(yt(t),"onHeaderDelete",(function(e){t.setState((function(t){var n=t.headers.findIndex((function(t){return t.id===e}));if(-1===n)return t;var r=ut(t.headers);return r.splice(n,1),{headers:r}}),t.triggerChange)})),ht(yt(t),"onBlur",(function(){t.triggerChange()})),ht(yt(t),"triggerChange",(function(){var e=t.state.headers;t.props.onChange(e.map((function(e){return{name:e.name,value:e.value,configured:e.configured}})))})),t.state={headers:e.headers.map((function(e){return ct({},e,{id:wt()})}))},t}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=this;this.props.headers!==e.headers&&this.setState((function(e){var n=!1,r=e.headers.map((function(e){var r,o=null===(r=t.props.headers.find((function(t){return t.name===e.name})))||void 0===r?void 0:r.configured;return void 0!==o&&e.configured!==o?(n=!0,ct({},e,{configured:o})):e}));return n?{headers:r}:e}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.readOnly,r=t.theme,o=this.state.headers,i=r.spacing,a={container:(0,Z.css)({marginTop:i(3)}),addHeaderButton:(0,Z.css)({marginTop:i(1.5)})};return J().createElement("div",{className:a.container},J().createElement(at,{title:"HTTP headers",description:"Pass along additional context and metadata about the request/response for Metricstore(PromQL)",isCollapsible:!1,isInitiallyOpen:!0,kind:"sub-section"},J().createElement("div",null,o.map((function(t){return J().createElement(ue,{key:t.id,header:t,onChange:function(t){return e.onHeaderChange(t.id,t)},onDelete:function(){return e.onHeaderDelete(t.id)},onBlur:e.onBlur,readOnly:n})}))),J().createElement("div",{className:a.addHeaderButton},J().createElement(Y.Button,{icon:"plus",variant:"secondary",fill:"outline",onClick:this.onHeaderAdd,disabled:n},0===o.length?"Add header":"Add another header"))))}}])&&pt(t.prototype,n),r&&pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(G.Component);const vt=(0,Y.withTheme2)(gt);function wt(){return Math.random().toString(16).slice(2)}function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}var St;function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ot(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ot(i)?i:String(i)),r)}var o,i}function Et(e,t){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Et(e,t)}function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}var Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Et(e,t)}(i,e);var t,n,r,o=_t(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.dataSourceName,n=e.docsLink,r=e.hasRequiredFields,o=void 0===r||r;return J().createElement("div",{className:"description-container"},J().createElement("p",{className:"description-text"},"Before you can use the ",t," data source, you must configure it below or in the config file. For detailed instructions,",J().createElement("a",{href:n,target:"_blank",rel:"noreferrer"},"view the documentation"),"."),o&&(St||(St=J().createElement("p",{className:"description-text"},J().createElement("i",null,"Fields marked with * are required")))))}}])&&xt(t.prototype,n),r&&xt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(G.PureComponent);function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dt(r.key),r)}}function Ft(e,t){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ft(e,t)}function Rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=At(e);if(t){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Tt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return It(e)}(this,n)}}function It(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}function kt(e,t,n){return(t=Dt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e){var t=function(e,t){if("object"!==Tt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tt(t)?t:String(t)}var Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ft(e,t)}(i,e);var t,n,r,o=Rt(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kt(It(e=o.call.apply(o,[this].concat(n))),"getStyles",(function(){var t=e.props,n=t.theme,r=t.direction,o=void 0===r?"row":r,i=t.wrap,a=void 0===i||i,l=t.alignItems,c=t.gap,u=void 0===c?2:c,s=t.flexGrow;return{root:(0,Z.css)({display:"flex",flexDirection:o,flexWrap:a?"wrap":void 0,alignItems:l,gap:n.spacing(u),flexGrow:s,width:"100%"})}})),e}return t=i,(n=[{key:"render",value:function(){var e=this.getStyles(),t=this.props.children;return J().createElement("div",{className:e.root},t)}}])&&Ct(t.prototype,n),r&&Ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(G.Component);kt(Nt,"defaultProps",{direction:"row",wrap:!0,gap:2});const Lt=(0,Y.withTheme2)(Nt);var Vt=["isConfigured","onReset"];function Bt(){return Bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bt.apply(this,arguments)}function Mt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var zt,qt,Qt,Wt=function(e){var t=e.isConfigured,n=e.onReset,r=Mt(e,Vt);return G.createElement(Lt,{gap:2,wrap:!1},!t&&G.createElement(Y.Input,Bt({},r,{type:"password"})),t&&G.createElement(Y.Input,Bt({},r,{type:"text",disabled:!0,value:"configured"})),t&&G.createElement(Y.Button,{onClick:n,variant:"secondary"},"Reset"))};function Kt(e){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(e)}function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(this,arguments)}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xt(r.key),r)}}function Ut(e,t){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ut(e,t)}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Kt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jt(e)}(this,n)}}function Jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e){return Yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yt(e)}function Zt(e,t,n){return(t=Xt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e){var t=function(e,t){if("object"!==Kt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kt(t)?t:String(t)}var en,tn,nn,rn,on,an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ut(e,t)}(i,e);var t,n,r,o=Gt(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zt(Jt(e=o.call.apply(o,[this].concat(n))),"onEndpointChange",(function(t){var n=e.props,r=n.onOptionsChange,o=n.options;o.url=t.target.value,r(Ht({},o))})),Zt(Jt(e),"onProjectChange",(function(t){var n=e.props,r=n.onOptionsChange,o=n.options,i=Ht({},o.jsonData,{project:t.target.value});r(Ht({},o,{jsonData:i}))})),Zt(Jt(e),"onLogStoreChange",(function(t){var n=e.props,r=n.onOptionsChange,o=n.options,i=Ht({},o.jsonData,{logstore:t.target.value});r(Ht({},o,{jsonData:i}))})),Zt(Jt(e),"onRegionChange",(function(t){var n=e.props,r=n.onOptionsChange,o=n.options,i=Ht({},o.jsonData,{region:t.target.value});r(Ht({},o,{jsonData:i}))})),Zt(Jt(e),"onRoleArnChange",(function(t){var n=e.props,r=n.onOptionsChange,o=n.options,i=Ht({},o.jsonData,{roleArn:t.target.value});r(Ht({},o,{jsonData:i}))})),Zt(Jt(e),"onAKIDChange",(function(t){var n=e.props,r=n.onOptionsChange,o=n.options,i="";void 0!==o.secureJsonData&&o.secureJsonData.hasOwnProperty("accessKeySecret")&&(i=o.secureJsonData.accessKeySecret),r(Ht({},o,{secureJsonData:{accessKeyId:t.target.value,accessKeySecret:i}}))})),Zt(Jt(e),"onAKSecretChange",(function(t){var n=e.props,r=n.onOptionsChange,o=n.options,i="";void 0!==o.secureJsonData&&o.secureJsonData.hasOwnProperty("accessKeyId")&&(i=o.secureJsonData.accessKeyId),r(Ht({},o,{secureJsonData:{accessKeyId:i,accessKeySecret:t.target.value}}))})),Zt(Jt(e),"onResetAKID",(function(){var t=e.props,n=t.onOptionsChange,r=t.options;n(Ht({},r,{secureJsonFields:Ht({},r.secureJsonFields,{accessKeyId:!1}),secureJsonData:Ht({},r.secureJsonData,{accessKeyId:""})}))})),Zt(Jt(e),"onResetAKSecret",(function(){var t=e.props,n=t.onOptionsChange,r=t.options;n(Ht({},r,{secureJsonFields:Ht({},r.secureJsonFields,{accessKeySecret:!1}),secureJsonData:Ht({},r.secureJsonData,{accessKeySecret:""})}))})),Zt(Jt(e),"onHeadersChange",(function(t){var n=e.props,r=n.onOptionsChange,o=n.options,i=Ht({},o.jsonData,{headers:t});r(Ht({},o,{jsonData:i}))})),e}return t=i,n=[{key:"render",value:function(){var e=this.props.options,t=e.jsonData,n=e.secureJsonFields,r=e.url,o=e.secureJsonData||{};return J().createElement(J().Fragment,null,zt||(zt=J().createElement(Pt,{docsLink:"https://help.aliyun.com/zh/sls/developer-reference/connect-log-service-to-grafana",dataSourceName:"SLS数据源"})),J().createElement("hr",{style:{margin:"20px 0"}}),J().createElement(at,{title:"Connection"},J().createElement(Y.InlineField,{htmlFor:"connection-url",label:"Endpoint *",labelWidth:24,tooltip:J().createElement(J().Fragment,null,"Specify a complete Endpoint URL",qt||(qt=J().createElement("br",null)),"(for example: cn-hangzhou.log.aliyuncs.com)"),grow:!0,interactive:!0},J().createElement(Y.Input,{id:"connection-url","aria-label":"Project 所在的地域",onChange:this.onEndpointChange,value:r||"",placeholder:"请输入 Endpoint"})),J().createElement(Y.InlineField,{htmlFor:"connection-project",label:"Project *",tooltip:"Project",labelWidth:24,grow:!0,interactive:!0},J().createElement(Y.Input,{id:"connection-project","aria-label":"Project",onChange:this.onProjectChange,value:t.project||"",placeholder:"请输入 Project"})),J().createElement(Y.InlineField,{htmlFor:"connection-AccessKeyID",label:"AccessKeyID *",labelWidth:24,tooltip:"阿里云账号AccessKeyID",grow:!0,interactive:!0},J().createElement(Wt,{isConfigured:n&&n.accessKeyId,value:o.accessKeyId||"",label:"AccessKeyID",placeholder:"阿里云账号AccessKeyID",onReset:this.onResetAKID,onChange:this.onAKIDChange})),J().createElement(Y.InlineField,{htmlFor:"connection-AccessKeySecret",label:"AccessKeySecret *",labelWidth:24,tooltip:"阿里云账号AccessKeySecret",grow:!0,interactive:!0},J().createElement(Wt,{isConfigured:n&&n.accessKeySecret,value:o.accessKeySecret||"",label:"AccessKeySecret",placeholder:"阿里云账号AccessKeySecret",onReset:this.onResetAKSecret,onChange:this.onAKSecretChange})),J().createElement(Y.InlineField,{style:{marginTop:"8px"},htmlFor:"connection-Region",label:"Region *",labelWidth:24,tooltip:J().createElement(J().Fragment,null,"Region",Qt||(Qt=J().createElement("br",null)),"(for example: cn-hangzhou)"),grow:!0,interactive:!0},J().createElement(Y.Input,{id:"connection-Region","aria-label":"region",onChange:this.onRegionChange,value:t.region||"",placeholder:"请输入 Region(选填, optional)"}))),J().createElement("hr",{style:{margin:"20px 0"}}),J().createElement(at,{title:"Other"},J().createElement(Y.InlineField,{style:{marginTop:"8px"},tooltip:"请输入默认的Logstore,如果不填写,请确保您的 ak 账号具备该 project 的ListLogStore读权限",htmlFor:"connection-logstore",label:"Default Logstore",labelWidth:24,grow:!0,interactive:!0},J().createElement(Y.Input,{id:"other-logstore-url","aria-label":"logstore",placeholder:"请输入默认的Logstore",onChange:this.onLogStoreChange,value:t.logstore||""})),J().createElement(Y.InlineField,{style:{marginTop:"8px"},htmlFor:"connection-roleArn",label:"RoleArn",labelWidth:24,grow:!0,interactive:!0},J().createElement(Y.Input,{id:"other-roleArn-url","aria-label":"roleArn",onChange:this.onRoleArnChange,value:t.roleArn||"",placeholder:"配置STS跳转(选填, optional)"})),J().createElement(vt,{headers:t.headers||[],onChange:this.onHeadersChange,readOnly:!1})))}}],n&&$t(t.prototype,n),r&&$t(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(G.PureComponent),ln=[{color:"#ff006e",label:"空 empty",value:"表格或日志 table or log"},{color:"#80ed99",label:"【时间列 Time colomn】",value:"时序数据 Timeseries"},{color:"#0077b6",label:"stat",value:"单值图格式 gauge/stat graph"},{color:"#0096c7",label:"pie",value:"饼图格式 pie graph"},{color:"#00b4d8",label:"bar",value:"柱状图格式 bar graph"},{color:"#48cae4",label:"trace",value:"Trace格式 Trace graph"},{color:"#90e0ef",label:"map",value:"地图格式 map graph"}],cn=[{color:"#ffca3a",label:"【无需填写】 此情况适用于Log、Trace以及表格全列展示的情况",value:"[No need to fill in] This situation applies to Log, Trace and the full column of the table"},{color:"#8ac926",label:"【col1,col2,col3】 最常用的一种形式，在图表中展示若干数值列",value:"[col1,col2,col3] The most common form, displaying several numeric columns in the chart"},{color:"#1982c4",label:"【col1#:#col2】 适用于bar和SLS时序库展示，col1为聚合列，col2为其他列",value:"[col1#:#col2] Applicable to bar and SLS metricStore, col1 is the aggregation column, col2 is other columns"}],un=[{color:"#ffca3a",label:"只对 Query 查询语句生效，分析语句无效",value:"Only effective for search statements, not applicable to analytic statements"},{color:"#8ac926",label:"最小值为 1 条",value:"Minimum value is 1"},{color:"#1982c4",label:"最大值为 5000 条",value:"Maximum value is 5000"}],sn=[{label:"TimeSeries / Custom",value:"custom",description:"时序数据 Timeseries 自定义【时间列 Time colomn】，或自定义x轴输入"},{label:"Table / Log",value:"",description:"表格或日志 table or log"},{label:"Stat / Gauge",value:"stat",description:"单值图格式 gauge/stat graph"},{label:"Pie",value:"pie",description:"饼图格式 pie graph"},{label:"Bar",value:"bar",description:"柱状图格式 bar graph"},{label:"Trace",value:"trace",description:"Trace格式 Trace graph"},{label:"Map",value:"map",description:"地图格式 map graph"}],pn=[{label:"ALL(SQL)",value:"all"},{label:"Logstore(SQL)",value:"logstore"},{label:"Metricstore(SQL)",value:"metricsql"},{label:"Metricstore(PromQL)",value:"metricstore"}],fn=null!==(en=null===(tn=window)||void 0===tn||null===(nn=tn.grafanaBootData)||void 0===nn||null===(rn=nn.settings)||void 0===rn||null===(on=rn.buildInfo)||void 0===on?void 0:on.version)&&void 0!==en?en:"",dn={id:"sls",extensions:[".sls"],aliases:["sls","SLS","SLSQuery"],mimetypes:[]};const yn=function(e){var t=(0,G.useRef)(e);return t.current=e,t};var bn,hn=new Uint8Array(16);function mn(){if(!bn&&!(bn="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bn(hn)}const gn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const vn=function(e){return"string"==typeof e&&gn.test(e)};for(var wn=[],On=0;On<256;++On)wn.push((On+256).toString(16).substr(1));const Sn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(wn[e[t+0]]+wn[e[t+1]]+wn[e[t+2]]+wn[e[t+3]]+"-"+wn[e[t+4]]+wn[e[t+5]]+"-"+wn[e[t+6]]+wn[e[t+7]]+"-"+wn[e[t+8]]+wn[e[t+9]]+"-"+wn[e[t+10]]+wn[e[t+11]]+wn[e[t+12]]+wn[e[t+13]]+wn[e[t+14]]+wn[e[t+15]]).toLowerCase();if(!vn(n))throw TypeError("Stringified UUID is invalid");return n};const xn=function(e,t,n){var r=(e=e||{}).random||(e.rng||mn)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Sn(r)};var En=c(16);var _n,jn=null;!function(e){e[e.Method=0]="Method",e[e.Function=1]="Function",e[e.Constructor=2]="Constructor",e[e.Field=3]="Field",e[e.Variable=4]="Variable",e[e.Class=5]="Class",e[e.Struct=6]="Struct",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Event=10]="Event",e[e.Operator=11]="Operator",e[e.Unit=12]="Unit",e[e.Value=13]="Value",e[e.Constant=14]="Constant",e[e.Enum=15]="Enum",e[e.EnumMember=16]="EnumMember",e[e.Keyword=17]="Keyword",e[e.Text=18]="Text",e[e.Color=19]="Color",e[e.File=20]="File",e[e.Reference=21]="Reference",e[e.Customcolor=22]="Customcolor",e[e.Folder=23]="Folder",e[e.TypeParameter=24]="TypeParameter",e[e.User=25]="User",e[e.Issue=26]="Issue",e[e.Snippet=27]="Snippet"}(_n||(_n={}));var Pn,Tn,Cn=[{label:"SELECT",type:_n.Keyword},{label:"FROM",type:_n.Keyword},{label:"AS",type:_n.Keyword},{label:"DISTINCT",type:_n.Keyword},{label:"GROUP",type:_n.Keyword},{label:"WHERE",type:_n.Keyword},{label:"BY",type:_n.Keyword},{label:"HAVING",type:_n.Keyword},{label:"ORDER",type:_n.Keyword},{label:"LIMIT",type:_n.Keyword},{label:"OR",type:_n.Keyword},{label:"AND",type:_n.Keyword},{label:"IN",type:_n.Keyword},{label:"NOT",type:_n.Keyword},{label:"BETWEEN",type:_n.Keyword},{label:"LIKE",type:_n.Keyword},{label:"IS",type:_n.Keyword},{label:"ASC",type:_n.Keyword},{label:"DESC",type:_n.Keyword},{label:"SUBSTRING",type:_n.Keyword},{label:"CASE",type:_n.Keyword},{label:"WHEN",type:_n.Keyword},{label:"THEN",type:_n.Keyword},{label:"ELSE",type:_n.Keyword},{label:"END",type:_n.Keyword},{label:"JOIN",type:_n.Keyword},{label:"INNER",type:_n.Keyword},{label:"LEFT",type:_n.Keyword},{label:"RIGHT",type:_n.Keyword},{label:"OUTER",type:_n.Keyword},{label:"ON",type:_n.Keyword},{label:"UNION",type:_n.Keyword}],Fn=[{label:"ALL",type:_n.Operator},{label:"AND",type:_n.Operator},{label:"ANY",type:_n.Operator},{label:"BETWEEN",type:_n.Operator},{label:"IN",type:_n.Operator},{label:"LIKE",type:_n.Operator},{label:"NOT",type:_n.Operator},{label:"OR",type:_n.Operator},{label:"SOME",type:_n.Operator},{label:"EXCEPT",type:_n.Operator},{label:"INTERSECT",type:_n.Operator},{label:"UNION",type:_n.Operator},{label:"APPLY",type:_n.Operator},{label:"CROSS",type:_n.Operator},{label:"FULL",type:_n.Operator},{label:"INNER",type:_n.Operator},{label:"JOIN",type:_n.Operator},{label:"LEFT",type:_n.Operator},{label:"OUTER",type:_n.Operator},{label:"RIGHT",type:_n.Operator},{label:"CONTAINS",type:_n.Operator},{label:"FREETEXT",type:_n.Operator},{label:"IS",type:_n.Operator},{label:"NULL",type:_n.Operator},{label:"PIVOT",type:_n.Operator},{label:"UNPIVOT",type:_n.Operator},{label:"MATCHED",type:_n.Operator}],Rn={arbitrary:{type:_n.Field},avg:{type:_n.Field},checksum:{type:_n.Field},COUNT:{type:_n.Field},count_if:{type:_n.Field},geometric_mean:{type:_n.Field},max_by:{type:_n.Field},min_by:{type:_n.Field},max:{type:_n.Field},min:{type:_n.Field},sum:{type:_n.Field},bitwise_and_agg:{type:_n.Field},bitwise_or_agg:{type:_n.Field},histogram:{type:_n.Method},map_agg:{type:_n.Method},multimap_agg:{type:_n.Method},cardinality:{type:_n.Method},element_at:{type:_n.Method},map:{type:_n.Method},map_from_entries:{type:_n.Method},map_entries:{type:_n.Method},map_concat:{type:_n.Method},map_filter:{type:_n.Method},transform_keys:{type:_n.Method},transform_values:{type:_n.Method},map_keys:{type:_n.Method},map_values:{type:_n.Method},map_zip_with:{type:_n.Method},approx_distinct:{type:_n.Method},approx_percentile:{type:_n.Method},numeric_histogram:{type:_n.Method},corr:{type:_n.Function},covar_pop:{type:_n.Function},covar_samp:{type:_n.Function},regr_intercept:{type:_n.Function},regr_slope:{type:_n.Function},stddev:{type:_n.Function},stddev_samp:{type:_n.Function},stddev_pop:{type:_n.Function},variance:{type:_n.Function},var_samp:{type:_n.Function},var_pop:{type:_n.Function},abs:{type:_n.Function},cbrt:{type:_n.Function},ceiling:{type:_n.Function},cosine_similarity:{type:_n.Function},degrees:{type:_n.Function},e:{type:_n.Function},exp:{type:_n.Function},floor:{type:_n.Function},from_base:{type:_n.Function},ln:{type:_n.Function},log2:{type:_n.Function},log10:{type:_n.Function},log:{type:_n.Function},pi:{type:_n.Function},pow:{type:_n.Function},radians:{type:_n.Function},rand:{type:_n.Function},random:{type:_n.Function},round:{type:_n.Function},sqrt:{type:_n.Function},to_base:{type:_n.Function},truncate:{type:_n.Function},acos:{type:_n.Function},asin:{type:_n.Function},atan:{type:_n.Function},atan2:{type:_n.Function},cos:{type:_n.Function},sin:{type:_n.Function},cosh:{type:_n.Function},tan:{type:_n.Function},tanh:{type:_n.Function},infinity:{type:_n.Function},is_infinity:{type:_n.Function},is_finity:{type:_n.Function},is_nan:{type:_n.Function},chr:{type:_n.Function},length:{type:_n.Function},levenshtein_distance:{type:_n.Function},lpad:{type:_n.Function},rpad:{type:_n.Function},ltrim:{type:_n.Function},replace:{type:_n.Function},reverse:{type:_n.Function},rtrim:{type:_n.Function},split:{type:_n.Function},split_part:{type:_n.Function},split_to_map:{type:_n.Function},position:{type:_n.Function},strpos:{type:_n.Function},substr:{type:_n.Function},trim:{type:_n.Function},upper:{type:_n.Function},concat:{type:_n.Function},hamming_distance:{type:_n.Function},current_date:{type:_n.Function},current_time:{type:_n.Function},current_timestamp:{type:_n.Function},current_timezone:{type:_n.Function},from_iso8601_timestamp:{type:_n.Function},from_iso8601_date:{type:_n.Function},from_unixtime:{type:_n.Function},localtime:{type:_n.Function},localtimestamp:{type:_n.Function},now:{type:_n.Function},to_unixtime:{type:_n.Function},date_trunc:{type:_n.Function},date_format:{type:_n.Function},date_parse:{type:_n.Function},date_add:{type:_n.Function},date_diff:{type:_n.Function},time_series:{type:_n.Function},url_extract_fragment:{type:_n.Function},url_extract_host:{type:_n.Function},url_extract_parameter:{type:_n.Function},url_extract_path:{type:_n.Function},url_extract_port:{type:_n.Function},url_extract_protocol:{type:_n.Function},url_extract_query:{type:_n.Function},url_encode:{type:_n.Function},url_decode:{type:_n.Function},regexp_extract_all:{type:_n.Function},regexp_extract:{type:_n.Function},regexp_like:{type:_n.Function},regexp_replace:{type:_n.Function},regexp_split:{type:_n.Function},json_parse:{type:_n.Function},json_format:{type:_n.Function},json_array_contains:{type:_n.Function},json_array_get:{type:_n.Function},json_array_length:{type:_n.Function},json_extract:{type:_n.Function},json_extract_scalar:{type:_n.Function},json_size:{type:_n.Function},cast:{type:_n.Method},try_cast:{type:_n.Method},ip_to_domain:{type:_n.Function},ip_to_country:{type:_n.Function},ip_to_province:{type:_n.Function},ip_to_city:{type:_n.Function},ip_to_geo:{type:_n.Function},ip_to_city_geo:{type:_n.Function},ip_to_provider:{type:_n.Function},ip_to_country_code:{type:_n.Function},compare:{type:_n.Function},ts_smooth_simple:{type:_n.Interface},ts_smooth_fir:{type:_n.Interface},ts_smooth_iir:{type:_n.Interface},ts_period_detect:{type:_n.Interface},ts_cp_detect:{type:_n.Interface},ts_breakout_detect:{type:_n.Interface},ts_predicate_simple:{type:_n.Interface},ts_predicate_ar:{type:_n.Interface},ts_predicate_arma:{type:_n.Interface},ts_predicate_arima:{type:_n.Interface},ts_regression_predict:{type:_n.Interface},ts_decompose:{type:_n.Interface},ts_density_cluster:{type:_n.Interface},ts_hierarchical_cluster:{type:_n.Interface},ts_similar_instance:{type:_n.Interface},pattern_stat:{type:_n.Interface},pattern_diff:{type:_n.Interface},ts_find_peaks:{type:_n.Interface},promql_query:{type:_n.Struct},promql_query_range:{type:_n.Struct},promql_labels:{type:_n.Struct},promql_label_values:{type:_n.Struct},promql_series:{type:_n.Struct}},In={wordPattern:/(-?\d*\.\d\w*)|([^`~!#%^&*()\-=+\[{\]}\\|;:'",.<>\/?\s]+)/g,comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}],folding:{}},An=Object.keys(Rn),kn=An.map((function(e){return{label:e,type:i().get(Rn,e).type}})),Dn=Cn.map((function(e){return e.label})),Nn=Fn.map((function(e){return e.label})),Ln=kn.concat(Cn).concat(Fn),Vn={ignoreCase:!0,defaultToken:"",tokenPostfix:".sls",vectorMatching:"",symbols:/[=><!~?:&|+\-*\/^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,integersuffix:/(ll|LL|u|U|l|L)?(ll|LL|u|U|l|L)?/,floatsuffix:/[fFlL]?/,keywords:Dn,operators:Nn,builtinFunctions:An,builtinVariables:[],pseudoColumns:["$ACTION","$IDENTITY","$ROWGUID","$PARTITION"],tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@#$]+/,{cases:{"@operators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@keywords":"keyword","@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/N'/,{token:"string",next:"@string"}],[/'/,{token:"string",next:"@string"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],complexIdentifiers:[[/\[/,{token:"identifier.quote",next:"@bracketedIdentifier"}],[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],bracketedIdentifier:[[/[^\]]+/,"identifier"],[/]]/,"identifier"],[/]/,{token:"identifier.quote",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[[/BEGIN\s+(DISTRIBUTED\s+)?TRAN(SACTION)?\b/i,"keyword"],[/BEGIN\s+TRY\b/i,{token:"keyword.try"}],[/END\s+TRY\b/i,{token:"keyword.try"}],[/BEGIN\s+CATCH\b/i,{token:"keyword.catch"}],[/END\s+CATCH\b/i,{token:"keyword.catch"}],[/(BEGIN|CASE)\b/i,{token:"keyword.block"}],[/END\b/i,{token:"keyword.block"}],[/WHEN\b/i,{token:"keyword.choice"}],[/THEN\b/i,{token:"keyword.choice"}]]}},Bn={provideCompletionItems:function(){return{suggestions:Ln.map((function(e){return{label:e,kind:e.type,insertText:e.label,detail:e.label,insertTextRules:4}}))}}};function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}function zn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qn={codeLens:!1,contextmenu:!1,fixedOverflowWidgets:!0,folding:!1,fontSize:14,lineDecorationsWidth:8,lineNumbers:"off",minimap:{enabled:!1},overviewRulerBorder:!1,overviewRulerLanes:0,padding:{top:4,bottom:5},renderLineHighlight:"none",scrollbar:{vertical:"hidden",verticalScrollbarSize:8,horizontal:"hidden",horizontalScrollbarSize:0},scrollBeyondLastLine:!1,suggestFontSize:12,wordWrap:"on"},Qn=dn.id,Wn=!1;const Kn=function(e){var t,n=xn(),r=(0,G.useRef)((null===jn&&(jn={storageService:(t=new Map,t.set("expandSuggestionDocs",(!0).toString()),{onDidChangeValue:function(e){},onDidChangeTarget:function(e){},onWillSaveState:function(e){},get:function(e,n,r){var o;return null!==(o=t.get(e))&&void 0!==o?o:r},getBoolean:function(e,n,r){var o=t.get(e);return void 0!==o?"true"===o:r},getNumber:function(e,n,r){var o=t.get(e);return void 0!==o?parseInt(o,10):r},store:function(e,n,r,o){null==n?t.delete(e):t.set(e,n.toString())},remove:function(e,n){t.delete(e)},keys:function(e,n){return Array.from(t.keys())},logStorage:function(){},migrate:function(){return Promise.resolve(void 0)},isNew:function(e){return!0},flush:function(e){return Promise.resolve(void 0)}})}),jn)),i=(0,G.useRef)(null),a=e.onBlur,l=e.onRunQuery,c=e.initialValue,u=e.placeholder,s=e.onChange,p=yn(l),f=yn(a),d=yn(s),y=(0,G.useRef)(null),b=function(e,t){return{container:(0,Z.css)(Pn||(Pn=zn(["\n      border-radius: ",";\n      border: 1px solid ",";\n    "])),e.shape.borderRadius(),e.components.input.borderColor),placeholder:(0,Z.css)(Tn||(Tn=zn(["\n      ::after {\n        content: '","';\n        font-family: ",";\n        opacity: 0.3;\n      }\n    "])),t,e.typography.fontFamilyMonospace)}}((0,Y.useTheme2)(),u);return(0,G.useEffect)((function(){return function(){var e;null===(e=y.current)||void 0===e||e.call(y)}}),[]),J().createElement("div",{"aria-label":En.selectors.components.QueryField.container,className:b.container,ref:i},J().createElement(Y.ReactMonacoEditor,{overrideServices:r.current,options:qn,language:"sls",value:c,beforeMount:function(e){!function(e){if(!1===Wn){Wn=!0;var t=dn.aliases,n=dn.extensions,r=dn.mimetypes;e.languages.register({id:Qn,aliases:t,extensions:n,mimetypes:r}),e.languages.setMonarchTokensProvider(Qn,Vn),e.languages.setLanguageConfiguration(Qn,In)}}(e)},onMount:function(e,t){var r,a=e.createContextKey("isEditorFocused"+n,!1);e.onDidBlurEditorWidget((function(){a.set(!1),f.current(e.getValue())})),e.onDidFocusEditorText((function(){a.set(!0)}));var l=Bn,c=Mn({},l,{provideCompletionItems:function(t,n,r,o){var i;return(null===(i=e.getModel())||void 0===i?void 0:i.id)!==t.id?{suggestions:[]}:l.provideCompletionItems(t,n,r,o)}}),s=t.languages.registerCompletionItemProvider(Qn,c).dispose;y.current=s;var h=function(){var t=i.current;if(null!==t){var n=e.getContentHeight();t.style.height="".concat(n+2,"px"),t.style.width="100%";var r=t.clientWidth;e.layout({width:r,height:n})}};e.onDidContentSizeChange(h),h();var m=(0,o.debounce)((function(){var t=e.getValue();d.current(t)}),300);if(null===(r=e.getModel())||void 0===r||r.onDidChangeContent((function(){m()})),e.addCommand(t.KeyMod.Shift|t.KeyCode.Enter,(function(){p.current(e.getValue())}),"isEditorFocused"+n),u){var g=[{range:new t.Range(1,1,1,1),options:{className:b.placeholder,isWholeLine:!0}}],v=[],w=function(){var t=e.getModel();if(t){var n=0===t.getValueLength()?g:[];v=t.deltaDecorations(v,n)}};w(),e.onDidChangeModelContent(w)}}}))};function Hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Un=function(e){var t=e.initialValue,n=e.onChange,r=e.disableMultiLine,o=(0,G.useRef)(),i=Hn((0,G.useState)(30),2),a=i[0],l=i[1],c=(0,G.useCallback)((function(e,t){var n,r;null===(n=o.current)||void 0===n||null===(r=n.resolve)||void 0===r||r.call(n,{editor:e,monaco:t})}),[]);return J().createElement("div",{style:{width:"100%"}},J().createElement("div",{style:{width:"calc(100% - 65px)",display:"inline-block",fontSize:"14px"}},J().createElement(Y.CodeEditor,{value:t,language:"sql",height:a,width:"100%",showMiniMap:!1,onBlur:n,onSave:n,onEditorDidMount:c,monacoOptions:{contextmenu:!0,codeLens:!0,overviewRulerBorder:!0}})),!r&&J().createElement("div",{style:{width:"60px",height:"100%",display:"inline-block",float:"right"}},J().createElement(Y.Button,{icon:"angle-up",variant:"secondary",size:"sm",disabled:30===a,onClick:function(){l(a-30)}}),J().createElement(Y.Button,{icon:"angle-down",variant:"secondary",size:"sm",disabled:120===a,onClick:function(){l(a+30)}})))},Gn="function"==typeof btoa,Jn="function"==typeof Buffer,Yn=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),Zn=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Xn=((e=>{let t={};e.forEach(((e,n)=>t[e]=n))})(Zn),String.fromCharCode.bind(String)),er=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_"))),tr=e=>{let t,n,r,o,i="";const a=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,i+=Zn[t>>18&63]+Zn[t>>12&63]+Zn[t>>6&63]+Zn[63&t]}return a?i.slice(0,a-3)+"===".substring(a):i},nr=Gn?e=>btoa(e):Jn?e=>Buffer.from(e,"binary").toString("base64"):tr,rr=Jn?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(Xn.apply(null,e.subarray(n,n+4096)));return nr(t.join(""))},or=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?Xn(192|t>>>6)+Xn(128|63&t):Xn(224|t>>>12&15)+Xn(128|t>>>6&63)+Xn(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Xn(240|t>>>18&7)+Xn(128|t>>>12&63)+Xn(128|t>>>6&63)+Xn(128|63&t)},ir=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ar=e=>e.replace(ir,or),lr=Jn?e=>Buffer.from(e,"utf8").toString("base64"):Yn?e=>rr(Yn.encode(e)):e=>nr(ar(e)),cr=(e,t=!1)=>t?er(lr(e)):lr(e),ur=cr;function sr(e){var t=""===fn||fn.startsWith("8.0")||fn.startsWith("8.1")||fn.startsWith("8.2")||fn.startsWith("8.3")||fn.startsWith("7"),n=[];switch(e.type){case"ycol":n=cn;break;case"xcol":n=ln;break;case"totalLogs":n=un}return t?J().createElement("table",null,n.map((function(e,t){return J().createElement("tr",{key:e.color},J().createElement("td",{style:{width:"45px"}},"".concat(t+1,".")),J().createElement("td",null,e.label),J().createElement("td",null,e.value))}))):J().createElement(Y.Card,null,J().createElement(Y.Card.Heading,null,"".concat(e.type," 简介 Introduction")),J().createElement(Y.Card.Description,null,J().createElement(Y.SeriesTable,{series:n})))}function pr(e){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(e)}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mr(r.key),r)}}function dr(e,t){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dr(e,t)}function yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hr(e);if(t){var o=hr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===pr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return br(e)}(this,n)}}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hr(e){return hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hr(e)}function mr(e){var t=function(e,t){if("object"!==pr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pr(t)?t:String(t)}var gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dr(e,t)}(n,e);var t=yr(n);function n(){var e,r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e=t.call.apply(t,[this].concat(l)),r=br(e),i=function(){var t=e.props.theme;return{root:(0,Z.css)({backgroundColor:t.colors.background.secondary,borderRadius:t.shape.borderRadius(1)})}},(o=mr(o="getStyles"))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,e}return function(e,t,n){t&&fr(e.prototype,t),n&&fr(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"render",value:function(){var e=this.props.children,t=this.getStyles();return J().createElement("div",{className:t.root},J().createElement(Lt,{gap:2},e))}}]),n}(G.Component);const vr=(0,Y.withTheme2)(gr);function wr(e){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(e)}var Or,Sr,xr,Er,_r,jr,Pr,Tr,Cr;function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nr(r.key),r)}}function Rr(e,t){return Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rr(e,t)}function Ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kr(e);if(t){var o=kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===wr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ar(e)}(this,n)}}function Ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kr(e){return kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kr(e)}function Dr(e,t,n){return(t=Nr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nr(e){var t=function(e,t){if("object"!==wr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wr(t)?t:String(t)}function Lr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rr(e,t)}(n,e);var t=Ir(n);function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Dr(Ar(e=t.call.apply(t,[this].concat(o))),"onClickToggle",(function(){var t=e.props,n=t.onToggle,r=t.isOpen;n&&n(!r)})),e}return function(e,t,n){t&&Fr(e.prototype,t),n&&Fr(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.label,r=e.loading,o=e.collapsible,i=e.className,a=e.children,l=function(e){return{collapse:(0,Z.css)(Or||(Or=Lr(["\n    label: collapse;\n    margin-bottom: ",";\n  "])),e.spacing(1)),collapseBody:(0,Z.css)(Sr||(Sr=Lr(["\n    label: collapse__body;\n    padding: ",";\n    padding-top: 0;\n    flex: 1;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n  "])),e.spacing(e.components.panel.padding)),bodyContentWrapper:(0,Z.css)(xr||(xr=Lr(["\n    label: bodyContentWrapper;\n    flex: 1;\n    overflow: hidden;\n  "]))),loader:(0,Z.css)(Er||(Er=Lr(["\n    label: collapse__loader;\n    height: 2px;\n    position: relative;\n    overflow: hidden;\n    background: none;\n    margin: ",";\n  "])),e.spacing(.5)),loaderActive:(0,Z.css)(_r||(_r=Lr(["\n    label: collapse__loader_active;\n    &:after {\n      content: ' ';\n      display: block;\n      width: 25%;\n      top: 0;\n      top: -50%;\n      height: 250%;\n      position: absolute;\n      animation: loader 2s cubic-bezier(0.17, 0.67, 0.83, 0.67) 500ms;\n      animation-iteration-count: 100;\n      left: -25%;\n      background: ",";\n    }\n    @keyframes loader {\n      from {\n        left: -25%;\n        opacity: 0.1;\n      }\n      to {\n        left: 100%;\n        opacity: 1;\n      }\n    }\n  "])),e.colors.primary.main),header:(0,Z.css)(jr||(jr=Lr(["\n    label: collapse__header;\n    padding: ",";\n    display: flex;\n    cursor: inherit;\n    transition: all 0.1s linear;\n    cursor: pointer;\n  "])),e.spacing(1,2,1,2)),headerCollapsed:(0,Z.css)(Pr||(Pr=Lr(["\n    label: collapse__header--collapsed;\n    padding: ",";\n  "])),e.spacing(1,2,1,2)),headerLabel:(0,Z.css)(Tr||(Tr=Lr(["\n    label: collapse__header-label;\n    font-weight: ",";\n    margin-right: ",";\n    font-size: ",";\n  "])),e.typography.fontWeightMedium,e.spacing(1),e.typography.size.md),icon:(0,Z.css)(Cr||(Cr=Lr(["\n    label: collapse__icon;\n    margin: ",";\n  "])),e.spacing(0,1,0,-1))}}(e.theme),c=(0,Z.cx)([l.collapse,"panel-container",i]),u=r?(0,Z.cx)([l.loader,l.loaderActive]):(0,Z.cx)([l.loader]),s=o?(0,Z.cx)([l.header]):(0,Z.cx)([l.headerCollapsed]);return J().createElement("div",{className:c},J().createElement("div",{className:s,onClick:this.onClickToggle},o&&J().createElement(Y.Icon,{className:l.icon,name:t?"angle-down":"angle-right"}),J().createElement("div",{className:(0,Z.cx)([l.headerLabel])},n)),t&&J().createElement("div",{className:(0,Z.cx)([l.collapseBody])},J().createElement("div",{className:u}),J().createElement("div",{className:l.bodyContentWrapper},a)))}}]),n}(G.Component);Dr(Vr,"defaultProps",{isOpen:!1,collapsible:!0,loading:!1});var Br=(0,Y.withTheme2)(Vr);function Mr(e){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(e)}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$r(r.key),r)}}function qr(e,t){return qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qr(e,t)}function Qr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kr(e);if(t){var o=Kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wr(e)}(this,n)}}function Wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(e)}function Hr(e,t,n){return(t=$r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e){var t=function(e,t){if("object"!==Mr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Mr(t)?t:String(t)}var Ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qr(e,t)}(n,e);var t=Qr(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Hr(Wr(r=t.call(this,e)),"toggleOpen",(function(){r.setState((function(e){return{isOpen:!e.isOpen}}))})),Hr(Wr(r),"getStyles",(function(){var e=r.props.theme;return{collapse:(0,Z.css)(Hr({backgroundColor:"unset",border:"unset",marginBottom:0},"> button",{padding:e.spacing(0,1)})),wrapper:(0,Z.css)({width:"100%",display:"flex",justifyContent:"space-between",alignItems:"baseline"}),title:(0,Z.css)({flexGrow:1,overflow:"hidden",fontSize:e.typography.bodySmall.fontSize,fontWeight:e.typography.fontWeightMedium,margin:0}),description:(0,Z.css)({color:e.colors.text.secondary,fontSize:e.typography.bodySmall.fontSize,fontWeight:e.typography.bodySmall.fontWeight,paddingLeft:e.spacing(2),gap:e.spacing(2),display:"flex"}),body:(0,Z.css)({display:"flex",gap:e.spacing(2),flexWrap:"wrap"}),stats:(0,Z.css)({margin:"0px",color:e.colors.text.secondary,fontSize:e.typography.bodySmall.fontSize}),tooltip:(0,Z.css)({marginRight:e.spacing(.25)})}})),r.state={isOpen:!1},r}return function(e,t,n){t&&zr(e.prototype,t),n&&zr(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.children,o=e.collapsedInfo,i=e.queryStats,a=this.state.isOpen,l=this.getStyles();return J().createElement("div",{className:l.wrapper},J().createElement(Br,{className:l.collapse,collapsible:!0,isOpen:a,onToggle:this.toggleOpen,label:J().createElement(Lt,{gap:0},J().createElement("h6",{className:l.title},t),!a&&J().createElement("div",{className:l.description},o.map((function(e,t){return J().createElement("span",{key:t},e)}))))},J().createElement("div",{className:l.body},n)),i&&r.config.featureToggles.lokiQuerySplitting&&J().createElement(Y.Tooltip,{content:"Note: the query will be split into multiple parts and executed in sequence. Query limits will only apply each individual part."},J().createElement(Y.Icon,{tabIndex:0,name:"info-circle",className:l.tooltip,size:"sm"})),i&&J().createElement("p",{className:l.stats},Jr(i)))}}]),n}(G.Component);const Gr=(0,Y.withTheme2)(Ur);var Jr=function(e){return e.message?e.message:"This query will process approximately ".concat(Yr(e),".")},Yr=function(t){var n=(0,e.getValueFormat)("bytes")(t.bytes,1);return n.text+n.suffix};function Zr(e){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(e)}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,io(r.key),r)}}function eo(e,t){return eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eo(e,t)}function to(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ro(e);if(t){var o=ro(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return no(e)}(this,n)}}function no(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ro(e){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ro(e)}function oo(e,t,n){return(t=io(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function io(e){var t=function(e,t){if("object"!==Zr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zr(t)?t:String(t)}var ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eo(e,t)}(n,e);var t=to(n);function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return oo(no(e=t.call.apply(t,[this].concat(o))),"getStyles",(function(){var t=e.props,n=t.theme,r=t.v,o=t.h,i=t.layout;return{wrapper:(0,Z.css)([{paddingRight:n.spacing(null!=o?o:0),paddingBottom:n.spacing(null!=r?r:0)},"inline"===i&&{display:"inline-block"},"block"===i&&{display:"block"}])}})),e}return function(e,t,n){t&&Xr(e.prototype,t),n&&Xr(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"render",value:function(){var e=this.getStyles();return J().createElement("span",{className:(0,Z.cx)(e.wrapper)})}}]),n}(G.Component);oo(ao,"defaultProps",{v:0,h:0,layout:"block"});const lo=(0,Y.withTheme2)(ao);function co(e){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(e)}var uo,so,po;function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==co(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===co(i)?i:String(i)),r)}var o,i}function yo(e,t){return yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yo(e,t)}function bo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ho(e);if(t){var o=ho(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===co(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ho(e){return ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ho(e)}function mo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var go=(0,Y.stylesFactory)((function(e){var t="\n      font-size: ".concat(e.typography.size.sm,";\n      font-weight: ").concat(e.typography.fontWeightMedium,";\n      padding: ").concat(e.spacing(.5,1),";\n      color: ").concat(e.colors.error.contrastText,";\n      background: ").concat(e.colors.error.main,";\n      border-radius: ").concat(e.shape.borderRadius(),";\n      position: relative;\n      display: inline-block;\n\n      a {\n        color: ").concat(e.colors.error.contrastText,";\n        text-decoration: underline;\n      }\n\n      a:hover {\n        text-decoration: none;\n      }\n    ");return{vertical:(0,Z.css)(uo||(uo=mo(["\n      ","\n      margin: ",";\n\n      &:before {\n        content: '';\n        position: absolute;\n        left: 9px;\n        top: -5px;\n        width: 0;\n        height: 0;\n        border-width: 0 4px 5px 4px;\n        border-color: transparent transparent "," transparent;\n        border-style: solid;\n      }\n    "])),t,e.spacing(.5,0,0,0),e.colors.error.main),horizontal:(0,Z.css)(so||(so=mo(["\n      ","\n      margin-left: 10px;\n\n      &:before {\n        content: '';\n        position: absolute;\n        left: -5px;\n        top: 9px;\n        width: 0;\n        height: 0;\n        border-width: 4px 5px 4px 0;\n        border-color: transparent #e02f44 transparent transparent;\n        border-style: solid;\n      }\n    "])),t),fieldValidationMessageIcon:(0,Z.css)(po||(po=mo(["\n      margin-right: ",";\n    "])),e.spacing())}})),vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yo(e,t)}(n,e);var t=bo(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return function(e,t,n){t&&fo(e.prototype,t),n&&fo(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.horizontal,r=e.className,o=e.theme,i=go(o),a=(0,Z.cx)(n?i.horizontal:i.vertical,r);return J().createElement("div",{role:"alert",className:a},J().createElement(Y.Icon,{className:i.fieldValidationMessageIcon,name:"exclamation-triangle"}),t)}}]),n}(G.Component);const wo=(0,Y.withTheme2)(vo);function Oo(e){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(e)}var So,xo,Eo,_o,jo,Po=["children","description","className","category","theme"];function To(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Oo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Oo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Oo(i)?i:String(i)),r)}var o,i}function Fo(e,t){return Fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fo(e,t)}function Ro(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Io(e);if(t){var o=Io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Oo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Io(e){return Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Io(e)}function Ao(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fo(e,t)}(n,e);var t=Ro(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return function(e,t,n){t&&Co(e.prototype,t),n&&Co(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.description,r=e.className,o=e.category,i=e.theme,a=To(e,Po),l=function(e){return{label:(0,Z.css)(So||(So=Ao(["\n      label: Label;\n      font-size: ",";\n      font-weight: ",";\n      line-height: 1.25;\n      margin-bottom: ",";\n      color: ",";\n      max-width: 480px;\n    "])),e.typography.size.sm,e.typography.fontWeightMedium,e.spacing(.5),e.colors.text.primary),labelContent:(0,Z.css)(xo||(xo=Ao(["\n      display: flex;\n      align-items: center;\n    "]))),description:(0,Z.css)(Eo||(Eo=Ao(["\n      label: Label-description;\n      color: ",";\n      font-size: ",";\n      font-weight: ",";\n      margin-top: ",";\n      display: block;\n    "])),e.colors.text.secondary,e.typography.size.sm,e.typography.fontWeightRegular,e.spacing(.25)),categories:(0,Z.css)(_o||(_o=Ao(["\n      label: Label-categories;\n      display: inline-flex;\n      align-items: center;\n    "]))),chevron:(0,Z.css)(jo||(jo=Ao(["\n      margin: 0 ",";\n    "])),e.spacing(.25))}}(i),c=null==o?void 0:o.map((function(e,t){return J().createElement("span",{className:l.categories,key:"".concat(e,"/").concat(t)},J().createElement("span",null,e),J().createElement(Y.Icon,{name:"angle-right",className:l.chevron}))}));return J().createElement("div",{className:(0,Z.cx)(l.label,r)},J().createElement("label",a,J().createElement("div",{className:l.labelContent},c,t),n&&J().createElement("span",{className:l.description},n)))}}]),n}(G.Component);const Do=(0,Y.withTheme2)(ko);var No,Lo,Vo,Bo,Mo,zo=["label","description","horizontal","invalid","loading","disabled","required","error","children","className","validationMessageHorizontalOverflow","htmlFor","theme"];function qo(e){return qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(e)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qo.apply(this,arguments)}function Wo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ko(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zo(r.key),r)}}function $o(e,t){return $o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$o(e,t)}function Uo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jo(e);if(t){var o=Jo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===qo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Go(e)}(this,n)}}function Go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jo(e){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jo(e)}function Yo(e,t,n){return(t=Zo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zo(e){var t=function(e,t){if("object"!==qo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qo(t)?t:String(t)}var Xo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$o(e,t)}(n,e);var t=Uo(n);function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Yo(Go(e=t.call.apply(t,[this].concat(o))),"getStyles",(function(){var t=e.props.theme;return{field:(0,Z.css)(No||(No=Ko(["\n        display: flex;\n        flex-direction: column;\n        margin-bottom: ",";\n      "])),t.spacing(2)),fieldHorizontal:(0,Z.css)(Lo||(Lo=Ko(["\n        flex-direction: row;\n        justify-content: space-between;\n        flex-wrap: wrap;\n      "]))),fieldValidationWrapper:(0,Z.css)(Vo||(Vo=Ko(["\n        margin-top: ",";\n      "])),t.spacing(.5)),fieldValidationWrapperHorizontal:(0,Z.css)(Bo||(Bo=Ko(["\n        flex: 1 1 100%;\n      "]))),validationMessageHorizontalOverflow:(0,Z.css)(Mo||(Mo=Ko(["\n        width: 0;\n        overflow-x: visible;\n\n        & > * {\n          white-space: nowrap;\n        }\n      "])))}})),Yo(Go(e),"deleteUndefinedProps",(function(e){for(var t in e)void 0===e[t]&&delete e[t];return e})),e}return function(e,t,n){t&&Ho(e.prototype,t),n&&Ho(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"render",value:function(){var e,t=this.props,n=t.label,r=t.description,o=t.horizontal,i=t.invalid,a=t.loading,l=t.disabled,c=t.required,u=t.error,s=t.children,p=t.className,f=t.validationMessageHorizontalOverflow,d=t.htmlFor,y=(t.theme,Wo(t,zo)),b=this.getStyles(),h=null!=d?d:null===Y.ReactUtils||void 0===Y.ReactUtils||null===(e=Y.ReactUtils.getChildId)||void 0===e?void 0:e.call(Y.ReactUtils,s),m="string"==typeof n?J().createElement(Do,{htmlFor:h,description:r},"".concat(n).concat(c?" *":"")):n,g=this.deleteUndefinedProps({invalid:i,disabled:l,loading:a});return J().createElement("div",Qo({className:(0,Z.cx)(b.field,o&&b.fieldHorizontal,p)},y),m,J().createElement("div",null,J().cloneElement(s,g),i&&u&&!o&&J().createElement("div",{className:(0,Z.cx)(b.fieldValidationWrapper,Yo({},b.validationMessageHorizontalOverflow,!!f))},J().createElement(wo,null,u))),i&&u&&o&&J().createElement("div",{className:(0,Z.cx)(b.fieldValidationWrapper,b.fieldValidationWrapperHorizontal,Yo({},b.validationMessageHorizontalOverflow,!!f))},J().createElement(wo,null,u)))}}]),n}(G.Component);Yo(Xo,"defaultProps",{validationMessageHorizontalOverflow:!1});const ei=(0,Y.withTheme2)(Xo);var ti,ni=["label","optional","tooltip","tooltipInteractive","children","width","theme"];function ri(e){return ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(e)}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oi.apply(this,arguments)}function ii(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pi(r.key),r)}}function li(e,t){return li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},li(e,t)}function ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=si(e);if(t){var o=si(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ui(e)}(this,n)}}function ui(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function si(e){return si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},si(e)}function pi(e){var t=function(e,t){if("object"!==ri(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ri(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ri(t)?t:String(t)}var fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&li(e,t)}(n,e);var t=ci(n);function n(){var e,r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e=t.call.apply(t,[this].concat(l)),r=ui(e),i=function(){var t=e.props,n=t.theme,r=t.width;return{root:(0,Z.css)({minWidth:n.spacing(null!=r?r:0)}),label:(0,Z.css)({fontSize:12,fontWeight:n.typography.fontWeightMedium}),optional:(0,Z.css)({fontStyle:"italic",color:n.colors.text.secondary}),field:(0,Z.css)({marginBottom:0}),icon:(0,Z.css)({color:n.colors.text.secondary,marginLeft:n.spacing(1),":hover":{color:n.colors.text.primary}})}},(o=pi(o="getStyles"))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,e}return function(e,t,n){t&&ai(e.prototype,t),n&&ai(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"render",value:function(){var e,t=this.props,n=t.label,r=t.optional,o=t.tooltip,i=t.tooltipInteractive,a=t.children,l=(t.width,t.theme,ii(t,ni)),c=this.getStyles(),u=(null==l?void 0:l.htmlFor)||(null===Y.ReactUtils||void 0===Y.ReactUtils||null===(e=Y.ReactUtils.getChildId)||void 0===e?void 0:e.call(Y.ReactUtils,a)),s=J().createElement(J().Fragment,null,J().createElement("label",{className:c.label,htmlFor:u},n,r&&J().createElement("span",{className:c.optional}," - optional"),o&&J().createElement(Y.Tooltip,{placement:"top",content:o,theme:"info",interactive:i},J().createElement(Y.Icon,{tabIndex:0,name:"info-circle",size:"sm",className:c.icon}))),ti||(ti=J().createElement(lo,{v:.5})));return J().createElement("div",{className:c.root},J().createElement(ei,oi({className:c.field,label:s},l),a))}}]),n}(G.Component);const di=(0,Y.withTheme2)(fi);var yi,bi;function hi(e){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hi(e)}function mi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ei(r.key),r)}}function vi(e,t){return vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vi(e,t)}function wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Si(e);if(t){var o=Si(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===hi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oi(e)}(this,n)}}function Oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Si(e){return Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Si(e)}function xi(e,t,n){return(t=Ei(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ei(e){var t=function(e,t){if("object"!==hi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===hi(t)?t:String(t)}var _i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vi(e,t)}(n,e);var t=wi(n);function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xi(Oi(e=t.call.apply(t,[this].concat(o))),"activeButtonRef",(0,G.createRef)()),xi(Oi(e),"handleOnChange",(function(t){return function(){e.props.onChange&&e.props.onChange(t.value)}})),xi(Oi(e),"handleOnClick",(function(t){return function(){e.props.onClick&&e.props.onClick(t.value)}})),xi(Oi(e),"getStyles",(function(){var t=e.props.theme;return{radioGroup:(0,Z.css)({display:"inline-flex",flexDirection:"row",flexWrap:"nowrap",border:"1px solid ".concat(t.components.input.borderColor),borderRadius:t.shape.borderRadius(),padding:"2px"}),fullWidth:(0,Z.css)({display:"flex"}),icon:(0,Z.css)(yi||(yi=mi(["\n        margin-right: 6px;\n      "]))),img:(0,Z.css)(bi||(bi=mi(["\n        width: ",";\n        height: ",";\n        margin-right: ",";\n      "])),t.spacing(2),t.spacing(2),t.spacing(1))}})),e}return function(e,t,n){t&&gi(e.prototype,t),n&&gi(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.activeButtonRef.current&&this.activeButtonRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.options,r=t.value,i=t.disabled,a=t.disabledOptions,l=t.size,c=t.id,u=t.className,s=t.fullWidth,p=null!=c?c:(0,o.uniqueId)("radiogroup-"),f=p,d=this.getStyles();return J().createElement("div",{className:(0,Z.cx)(d.radioGroup,s&&d.fullWidth,u)},n.map((function(t,n){var o=a&&t.value&&a.includes(t.value);return J().createElement(Oe,{size:l,disabled:o||i,active:r===t.value,key:"o.label-".concat(n),"aria-label":t.ariaLabel,onChange:e.handleOnChange(t),onClick:e.handleOnClick(t),id:"option-".concat(t.value,"-").concat(p),name:f,description:t.description,fullWidth:s,inputRef:r===t.value?e.activeButtonRef:void 0},t.icon&&J().createElement(Y.Icon,{name:t.icon,className:d.icon}),t.imgUrl&&J().createElement("img",{src:t.imgUrl,alt:t.label,className:d.img}),t.label," ",t.component?J().createElement(t.component,null):null)})))}}]),n}(G.Component);xi(_i,"defaultProps",{size:"md",fullWidth:!1,autoFocus:!1});const ji=(0,Y.withTheme2)(_i);var Pi,Ti,Ci,Fi,Ri,Ii,Ai,ki,Di;function Ni(e){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(e)}function Li(e){return function(e){if(Array.isArray(e))return Bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vi(e,t){if(e){if("string"==typeof e)return Bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bi(e,t):void 0}}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mi.apply(this,arguments)}function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$i(r.key),r)}}function qi(e,t){return qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qi(e,t)}function Qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ki(e);if(t){var o=Ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ni(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wi(e)}(this,n)}}function Wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ki(e){return Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ki(e)}function Hi(e,t,n){return(t=$i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $i(e){var t=function(e,t){if("object"!==Ni(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ni(t)?t:String(t)}var Ui=function(e,t,n){return sn.find((function(t){return t.value===e}))?(t(),e):(n(),"custom")},Gi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qi(e,t)}(a,e);var i=Qi(a);function a(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return Hi(Wi(t=i.call.apply(i,[this].concat(o))),"state",{loading:!1,showAlert:!1,xColDisabled:"custom"!==Ui(null!==(e=t.props.query.xcol)&&void 0!==e?e:"custom",(function(){}),(function(){})),url:"",message:"",logstoreList:[],logstore:"",powerSql:!1,datasourceType:"all"}),Hi(Wi(t),"autoSelect",(function(e){return Ui(e,(function(){t.setState({xColDiabled:!0})}),(function(){t.setState({xColDiabled:!1})}))})),Hi(Wi(t),"onQueryTextChange",(function(e){var n=t.props;(0,n.onChange)(Mi({},n.query,{query:e.target.value}))})),Hi(Wi(t),"onQueryTextChangeString",(function(e){var n=t.props;(0,n.onChange)(Mi({},n.query,{query:e}))})),Hi(Wi(t),"onQueryTextChangeWithRunQuery",(function(e){var n=t.props,r=n.onChange,o=n.query,i=n.onRunQuery;r(Mi({},o,{query:e})),i()})),Hi(Wi(t),"onXChange",(function(e){var n=t.props,r=n.onChange,o=n.query,i=n.onRunQuery;r(Mi({},o,{xcol:e.target.value})),t.autoSelect(e.target.value),i()})),Hi(Wi(t),"onYChange",(function(e){var n=t.props,r=n.onChange,o=n.query,i=n.onRunQuery;r(Mi({},o,{ycol:e.target.value})),i()})),Hi(Wi(t),"onDatasourceTypeChange",(function(e){var n=t.props;(0,n.onChange)(Mi({},n.query,{type:e.value,logstore:""})),t.setState({datasourceType:e.value}),t.getList(e.value)})),Hi(Wi(t),"onLogstoreChange",(function(e){var n=t.props,r=n.onChange,o=n.query,i=e.value;t.setState({logstore:i}),r(Mi({},o,{logstore:i}))})),Hi(Wi(t),"onPowerSqlChange",(function(e){var n=t.props,r=n.onChange,o=n.query,i=e.target.checked;t.setState({powerSql:i}),r(Mi({},o,{powerSql:i}))})),Hi(Wi(t),"onQueryTypeChange",(function(e){var n=t.props,r=n.onChange,o=n.query,i=n.onRunQuery;r(Mi({},o,{queryType:e})),null==i||i()})),Hi(Wi(t),"onFormatChange",(function(e){var n=t.props,r=n.onChange,o=n.query,i=n.onRunQuery;r(Mi({},o,{legendFormat:e.currentTarget.value})),i()})),Hi(Wi(t),"onStepChange",(function(e){var n=t.props,r=n.onChange,o=n.query,i=n.onRunQuery;r(Mi({},o,{step:e.currentTarget.value})),i()})),Hi(Wi(t),"onTotalLogsChange",(function(e){var n=t.props,r=n.onChange,o=n.query,i=n.onRunQuery;r(Mi({},o,{totalLogs:Number(e.currentTarget.value)})),i()})),Hi(Wi(t),"gotoSLS",(function(){var e,n,o,i,a=t.props,l=a.datasource,c=a.query,u=a.range,s=null!==(e=null==u?void 0:u.from.unix())&&void 0!==e?e:Math.round(Date.now()/1e3-900),p=null!==(n=null==u?void 0:u.to.unix())&&void 0!==n?n:Math.round(Date.now()/1e3),f=""!==t.state.logstore?t.state.logstore:c.logstore;if(/__custom__@/.test(null!==(o=f)&&void 0!==o?o:"")){var d,y=(0,r.getTemplateSrv)().getVariables().find((function(e){var t;return e.name===(null===(t=f)||void 0===t?void 0:t.split("@")[1])})),b=null==y||null===(d=y.current)||void 0===d?void 0:d.value;f=b}var h=(0,r.getTemplateSrv)().replace(null!==(i=c.query)&&void 0!==i?i:"",{},$);try{t.setState({loading:!0}),(0,r.getBackendSrv)().datasourceRequest({url:"/api/datasources/".concat(l.id,"/resources/api/gotoSLS"),method:"POST",headers:{"Content-Type":"application/json"},data:{Encoding:"encode=base64&queryString=".concat(encodeURIComponent(ur(null!=h?h:"")),"&queryTimeType=99&startTime=").concat(s,"&endTime=").concat(p),logstore:f,type:t.state.datasourceType}}).then((function(e){t.setState({loading:!1});var n=e.data.err,r=e.data.url;if(""!==n)t.setState({showAlert:!0,message:e.data.message,url:r});else{var o=window.open(r,"_blank");o&&(o.opener=null)}})).catch((function(e){t.setState({loading:!1})}))}catch(e){}})),Hi(Wi(t),"getList",(function(e){var n,o=t.props.datasource,i=((null===(n=(0,r.getDataSourceSrv)().getInstanceSettings(o.uid))||void 0===n?void 0:n.jsonData)||{}).project;try{(0,r.getBackendSrv)().datasourceRequest({url:"/api/datasources/".concat(o.id,"/resources/api/getLogstoreList"),method:"POST",headers:{"Content-Type":"application/json"},data:{Project:i,TelemetryType:"all"!==e&&e?"logstore"===e?"None":"Metrics":""}}).then((function(e){var n;200===e.status&&null!==(n=e.data)&&void 0!==n&&n.data&&t.setState({logstoreList:e.data.data||[]})})).catch((function(e){}))}catch(e){}})),t}return function(e,t,n){t&&zi(e.prototype,t),n&&zi(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(a,[{key:"componentDidMount",value:function(){var e=this.props.query;this.getList((null==e?void 0:e.type)||"logstore")}},{key:"getCollapsedInfo",value:function(e){var t=[];return t.push("Legend: ".concat(e.legendFormat||"auto")),t.push("Step: ".concat(e.step||"auto")),t.push("Type: ".concat(e.queryType||"range")),t}},{key:"render",value:function(){var e,i=this,a=this.props,l=a.isVariable,c=a.datasource,u=(null===(e=(0,r.getDataSourceSrv)().getInstanceSettings(c.uid))||void 0===e?void 0:e.jsonData)||{},s=(0,o.defaults)(this.props.query,l?n:t),p=s.query,f=s.xcol,d=s.ycol,y=s.type,b=s.logstore,h=s.queryType,m=s.legendFormat,g=s.step,v=s.totalLogs,w=s.powerSql,O=u.logstore,S=this.state.logstoreList,x=(0,r.getTemplateSrv)().getVariables().filter((function(e){var t;return"custom"===e.type&&(/logstore/i.test(null!==(t=null==e?void 0:e.label)&&void 0!==t?t:"")||/logstore/i.test(e.name))})),E=Li(new Set([O].concat(Li(S)))).map((function(e){return e===O?{label:e,value:e,description:"Default Logstore",id:e}:{label:e,value:e,id:e}}));if(x.length>0){var _,j=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(x);try{for(j.s();!(_=j.n()).done;){var P,T=_.value;E.unshift({label:null!==(P=null==T?void 0:T.label)&&void 0!==P?P:T.name,value:"__custom__@".concat(T.name),id:"__custom__@".concat(T.name),description:"Custom Logstore"})}}catch(e){j.e(e)}finally{j.f()}}return J().createElement(J().Fragment,null,J().createElement("div",{className:"gf-form-inline",style:{lineHeight:"32px",verticalAlign:"center"}},J().createElement(Y.InlineField,{label:"数据源类型",labelWidth:24},J().createElement(Y.Select,{width:24,options:pn,onChange:this.onDatasourceTypeChange,value:y})),J().createElement(Y.InlineField,{label:"日志库列表",labelWidth:24},J().createElement(Y.Select,{width:24,options:E,onChange:this.onLogstoreChange,value:b||O})),!l&&J().createElement(Y.Button,{style:{float:"right",marginLeft:"10px"},disabled:this.state.loading,fill:"outline",onClick:function(){i.gotoSLS()}},Pi||(Pi=J().createElement(Y.Icon,{name:"external-link-alt"})),this.state.loading?" loading...":" goto SLS"),!l&&("logstore"===this.state.datasourceType||"all"===this.state.datasourceType)&&J().createElement(Y.InlineField,{label:"增强Sql",style:{marginLeft:"10px"}},J().createElement(Y.InlineSwitch,{onChange:this.onPowerSqlChange,value:w}))),J().createElement("div",{className:"gf-form gf-form--grow flex-shrink-1 min-width-15"},J().createElement(Y.ConfirmModal,{isOpen:this.state.showAlert,title:"配置STS跳转出错",body:"原因: ".concat(this.state.message," 点击Confirm按照非STS逻辑跳转"),confirmText:"Confirm",icon:"exclamation-triangle",onConfirm:function(){var e=window.open(i.state.url,"_blank");e&&(e.opener=null),i.setState({showAlert:!1,message:"",url:""})},onDismiss:function(){i.setState({showAlert:!1})}}),Ti||(Ti=J().createElement(Y.InlineFormLabel,{width:6,className:"query-keyword"},"Query")),""===fn||fn.startsWith("8.0")||fn.startsWith("8.1")||fn.startsWith("8.2")||fn.startsWith("7")?J().createElement("div",{style:{width:"100%"}},J().createElement(Un,{onChange:this.onQueryTextChangeString,onRunQuery:this.onQueryTextChangeWithRunQuery,onBlur:this.onQueryTextChangeString,initialValue:null!=p?p:"",languageProvider:{},history:[],placeholder:""})):J().createElement(Kn,{onChange:this.onQueryTextChangeString,onRunQuery:this.onQueryTextChangeWithRunQuery,onBlur:this.onQueryTextChangeString,initialValue:null!=p?p:"",languageProvider:{},history:[],placeholder:""})),"metricstore"!==y&&!l&&J().createElement("div",{className:"gf-form-inline",style:{lineHeight:"32px",verticalAlign:"center"}},J().createElement(Y.InlineField,{label:"ycol",labelWidth:12},J().createElement(Y.Input,{width:60,prefix:Ci||(Ci=J().createElement(Y.Icon,{name:"text-fields"})),value:d,onChange:this.onYChange,label:"ycol",suffix:Fi||(Fi=J().createElement(Y.Tooltip,{content:J().createElement(sr,{type:"ycol"}),interactive:!0,theme:"info-alt"},J().createElement(Y.Icon,{name:"question-circle"})))})),J().createElement(Y.InlineField,{label:"xcol",labelWidth:12},J().createElement("div",{style:{display:"flex"}},J().createElement(Y.Select,{width:20,menuShouldPortal:!0,options:sn,value:this.autoSelect(null!=f?f:"time"),onChange:function(e){var t=i.props,n=t.onChange,r=t.query,o=t.onRunQuery;"custom"!==e.value?(i.setState({xColDisabled:!0}),n(Mi({},r,{xcol:e.value})),o()):(i.setState({xColDisabled:!1}),n(Mi({},r,{xcol:"time"})))},prefix:Ri||(Ri=J().createElement(Y.Icon,{name:"palette"}))}),J().createElement(Y.Input,{width:this.state.xColDisabled?20:40,disabled:this.state.xColDisabled,prefix:Ii||(Ii=J().createElement(Y.Icon,{name:"x"})),value:f,onChange:this.onXChange,label:"xcol",suffix:Ai||(Ai=J().createElement(Y.Tooltip,{content:J().createElement(sr,{type:"xcol"}),interactive:!0,theme:"info-alt"},J().createElement(Y.Icon,{name:"question-circle"})))}))),""===this.props.query.xcol&&J().createElement(Y.InlineField,{label:"totalLogs",labelWidth:12},J().createElement(Y.Input,{type:"number",width:20,prefix:ki||(ki=J().createElement(Y.Icon,{name:"text-fields"})),value:v,onChange:this.onTotalLogsChange,label:"totalLogs",suffix:Di||(Di=J().createElement(Y.Tooltip,{content:J().createElement(sr,{type:"totalLogs"}),interactive:!0,theme:"info-alt"},J().createElement(Y.Icon,{name:"question-circle"})))}))),"metricstore"===y&&J().createElement(vr,null,J().createElement("div",null,J().createElement(Gr,{title:"Options",collapsedInfo:this.getCollapsedInfo(s)},!l&&J().createElement(di,{label:"Format",style:{margin:"0 0 4px 4px"}},J().createElement(Y.Input,{type:"text",placeholder:"auto",onChange:this.onFormatChange,defaultValue:m})),J().createElement(di,{label:"Step",style:{margin:"0 0 4px 4px"}},J().createElement(Y.Input,{type:"text",placeholder:"auto",onChange:this.onStepChange,defaultValue:g})),J().createElement(di,{label:"Type"},J().createElement(ji,{options:[{label:"Range",value:"range"},{label:"Instant",value:"instant"}],value:h||"range",onChange:this.onQueryTypeChange}))))))}}]),a}(G.PureComponent);function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ji.apply(this,arguments)}var Yi=new e.DataSourcePlugin(V).setConfigEditor(an).setQueryEditor(Gi).setVariableQueryEditor((function(e){return J().createElement(Gi,Ji({},e,{isVariable:!0}))}))})(),u})()));
//# sourceMappingURL=module.js.map